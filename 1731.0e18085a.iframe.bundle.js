"use strict";(self.webpackChunkleafygreen_ui=self.webpackChunkleafygreen_ui||[]).push([[1731],{"./packages/menu/src/FocusableMenuItem/FocusableMenuItem.styles.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   h: () => (/* binding */ getFocusableMenuItemWrapperStyles)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js");\n/* harmony import */ var _leafygreen_ui_emotion__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./packages/emotion/dist/esm/index.js");\n/* harmony import */ var _leafygreen_ui_tokens__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./packages/tokens/dist/esm/index.js");\n/* harmony import */ var _styles__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./packages/menu/src/styles.ts");\n\nvar _templateObject;\n\n\n\nvar getFocusableMenuItemWrapperStyles = function getFocusableMenuItemWrapperStyles(theme) {\n  return (0,_leafygreen_ui_emotion__WEBPACK_IMPORTED_MODULE_0__.css)(_templateObject || (_templateObject = (0,_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(["\\n  padding: ", "px;\\n  cursor: unset;\\n  background-color: ", ";\\n"])), _leafygreen_ui_tokens__WEBPACK_IMPORTED_MODULE_1__/* .spacing */ .W0[100], _styles__WEBPACK_IMPORTED_MODULE_2__/* .menuColor */ .co[theme].background["default"]);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy9tZW51L3NyYy9Gb2N1c2FibGVNZW51SXRlbS9Gb2N1c2FibGVNZW51SXRlbS5zdHlsZXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTZDO0FBRUc7QUFFVjtBQUUvQixJQUFNRyxpQ0FBaUMsR0FBRyxTQUFwQ0EsaUNBQWlDQSxDQUFJQyxLQUFZO0VBQUEsT0FBS0osMkRBQUcsQ0FBQUssZUFBQSxLQUFBQSxlQUFBLEdBQUFDLGlHQUFBLDRFQUN6REwsb0VBQU8sQ0FBQyxHQUFHLENBQUMsRUFFSEMsd0RBQVMsQ0FBQ0UsS0FBSyxDQUFDLENBQUNHLFVBQVUsV0FBUTtBQUFBLENBQ3hEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGVhZnlncmVlbi11aS8uL3BhY2thZ2VzL21lbnUvc3JjL0ZvY3VzYWJsZU1lbnVJdGVtL0ZvY3VzYWJsZU1lbnVJdGVtLnN0eWxlcy50cz8zM2NmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNzcyB9IGZyb20gJ0BsZWFmeWdyZWVuLXVpL2Vtb3Rpb24nO1xuaW1wb3J0IHsgVGhlbWUgfSBmcm9tICdAbGVhZnlncmVlbi11aS9saWInO1xuaW1wb3J0IHsgc3BhY2luZyB9IGZyb20gJ0BsZWFmeWdyZWVuLXVpL3Rva2Vucyc7XG5cbmltcG9ydCB7IG1lbnVDb2xvciB9IGZyb20gJy4uL3N0eWxlcyc7XG5cbmV4cG9ydCBjb25zdCBnZXRGb2N1c2FibGVNZW51SXRlbVdyYXBwZXJTdHlsZXMgPSAodGhlbWU6IFRoZW1lKSA9PiBjc3NgXG4gIHBhZGRpbmc6ICR7c3BhY2luZ1sxMDBdfXB4O1xuICBjdXJzb3I6IHVuc2V0O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAke21lbnVDb2xvclt0aGVtZV0uYmFja2dyb3VuZC5kZWZhdWx0fTtcbmA7XG4iXSwibmFtZXMiOlsiY3NzIiwic3BhY2luZyIsIm1lbnVDb2xvciIsImdldEZvY3VzYWJsZU1lbnVJdGVtV3JhcHBlclN0eWxlcyIsInRoZW1lIiwiX3RlbXBsYXRlT2JqZWN0IiwiX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbCIsImJhY2tncm91bmQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./packages/menu/src/FocusableMenuItem/FocusableMenuItem.styles.ts\n')},"./packages/menu/src/Menu/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  v: () => (/* reexport */ Menu_Menu)\n});\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/extends.js\nvar esm_extends = __webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js");\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js");\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js + 2 modules\nvar defineProperty = __webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js");\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\nvar objectWithoutProperties = __webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");\n// EXTERNAL MODULE: consume shared module (default) react@^17.0.2 (singleton) (fallback: ./node_modules/react/index.js)\nvar index_js_ = __webpack_require__("webpack/sharing/consume/default/react/react");\nvar index_js_default = /*#__PURE__*/__webpack_require__.n(index_js_);\n// EXTERNAL MODULE: ./node_modules/prop-types/index.js\nvar prop_types = __webpack_require__("./node_modules/prop-types/index.js");\nvar prop_types_default = /*#__PURE__*/__webpack_require__.n(prop_types);\n// EXTERNAL MODULE: ./packages/descendants/dist/esm/index.js\nvar esm = __webpack_require__("./packages/descendants/dist/esm/index.js");\n// EXTERNAL MODULE: ./packages/emotion/dist/esm/index.js\nvar dist_esm = __webpack_require__("./packages/emotion/dist/esm/index.js");\n// EXTERNAL MODULE: ./packages/hooks/dist/esm/index.js\nvar hooks_dist_esm = __webpack_require__("./packages/hooks/dist/esm/index.js");\n// EXTERNAL MODULE: ./packages/leafygreen-provider/dist/esm/index.js\nvar leafygreen_provider_dist_esm = __webpack_require__("./packages/leafygreen-provider/dist/esm/index.js");\n// EXTERNAL MODULE: ./packages/lib/dist/esm/index.js\nvar lib_dist_esm = __webpack_require__("./packages/lib/dist/esm/index.js");\n// EXTERNAL MODULE: ./packages/popover/dist/esm/index.js\nvar popover_dist_esm = __webpack_require__("./packages/popover/dist/esm/index.js");\n// EXTERNAL MODULE: ./packages/menu/src/constants.ts\nvar constants = __webpack_require__("./packages/menu/src/constants.ts");\n;// CONCATENATED MODULE: ./packages/menu/src/HighlightReducer/utils/getNextIndex.ts\n\n\n/**\n * Computes the next index given a direction\n */\n// prettier-ignore\n\n// prettier-ignore\n\n// prettier-ignore\nfunction getNextIndex(direction, currentIndex, totalItems) {\n  if (!(0,lib_dist_esm/* isDefined */.$K)(currentIndex)) return currentIndex;\n  switch (direction) {\n    case \'next\':\n      return (currentIndex + 1) % totalItems;\n    case \'prev\':\n      return (currentIndex - 1 + totalItems) % totalItems;\n    case \'last\':\n      return totalItems - 1;\n    case \'first\':\n    default:\n      return 0;\n  }\n}\n;// CONCATENATED MODULE: ./packages/menu/src/HighlightReducer/utils/getNextEnabled.ts\n\n\n\n/**\n * Finds the index of the subsequent `enabled` descendant element\n */\nfunction getNextEnabledIndex(direction, current, descendants) {\n  var _current$index;\n  // If all descendants are disabled, then we skip this step\n  if (descendants.every(function (d) {\n    return d.props.disabled;\n  })) {\n    return undefined;\n  }\n  var updatedIndex = getNextIndex(direction, (_current$index = current === null || current === void 0 ? void 0 : current.index) !== null && _current$index !== void 0 ? _current$index : 0, descendants.length);\n  var item = (0,esm/* getDescendantByIndex */.$X)(updatedIndex, descendants);\n\n  // If the subsequent item is disabled,\n  // keep searching in that direction for an enabled one\n  while ((_item = item) !== null && _item !== void 0 && _item.props.disabled) {\n    var _item;\n    // If the first/last item is disabled\n    // start the search in the forward/backward direction\n    var nextDirection = function () {\n      switch (direction) {\n        case \'first\':\n          return \'next\';\n        case \'last\':\n          return \'prev\';\n        default:\n          return direction;\n      }\n    }();\n    updatedIndex = getNextIndex(nextDirection, updatedIndex, descendants.length);\n    item = descendants[updatedIndex];\n  }\n  return updatedIndex;\n}\n;// CONCATENATED MODULE: ./packages/menu/src/HighlightReducer/utils/isDescendantsSet.ts\n\nvar isDescendantsSet = function isDescendantsSet(descendants) {\n  return (0,lib_dist_esm/* isDefined */.$K)(descendants) && descendants.length > 0;\n};\n;// CONCATENATED MODULE: ./packages/menu/src/HighlightReducer/utils/getNextFromDirection.ts\n\n\n\n\nvar getNextFromDirection = function getNextFromDirection(direction, current, descendants) {\n  // If descendants is not set\n  // then we don\'t mutate the index\n  if (!isDescendantsSet(descendants)) {\n    return current;\n  }\n  var updatedIndex = getNextEnabledIndex(direction, current, descendants);\n  if ((0,lib_dist_esm/* isDefined */.$K)(updatedIndex)) {\n    var nextDescendant = (0,esm/* getDescendantByIndex */.$X)(updatedIndex, descendants);\n    return nextDescendant;\n  }\n  return current;\n};\n;// CONCATENATED MODULE: ./packages/menu/src/HighlightReducer/HighlightReducer.ts\n\n\n\n\n\nvar getInitialHighlight = function getInitialHighlight(descendants) {\n  return isDescendantsSet(descendants) ? descendants[0] : undefined;\n};\n\n/**\n * Creates a new reducer function for closure for a given `descendants` value\n */\nvar makeHighlightReducerFunction = function makeHighlightReducerFunction(getDescendants) {\n  return function (currentHighlight, action) {\n    var descendants = getDescendants();\n\n    // If we\'ve received a direction, move the highlight\n    if (action.direction) {\n      var nextHighlight = getNextFromDirection(action.direction, currentHighlight, descendants);\n      return nextHighlight || currentHighlight;\n    } else if (action.index) {\n      var _nextHighlight = (0,esm/* getDescendantByIndex */.$X)(action.index, descendants);\n      return _nextHighlight;\n    } else if (action.id) {\n      var _nextHighlight2 = (0,esm/* getDescendantById */.iN)(action.id, descendants);\n      return _nextHighlight2;\n    }\n    return currentHighlight;\n  };\n};\n\n/**\n * Custom hook that handles setting the highlighted descendant index,\n * and fires any `onChange` side effects\n */\nvar useHighlightReducer = function useHighlightReducer(getDescendants, onChange) {\n  // Create a reducer function\n  var highlightReducerFunction = makeHighlightReducerFunction(getDescendants);\n\n  // Create the reducer\n  var _useReducer = (0,index_js_.useReducer)(highlightReducerFunction, getInitialHighlight(getDescendants())),\n    _useReducer2 = (0,slicedToArray/* default */.Z)(_useReducer, 2),\n    highlight = _useReducer2[0],\n    dispatch = _useReducer2[1];\n\n  /**\n   * Custom dispatch that moves the current highlight\n   * in a given direction\n   *\n   * Fires any side-effects in the `onChange` callback\n   */\n  var moveHighlight = function moveHighlight(direction) {\n    var updatedHighlight = highlightReducerFunction(highlight, {\n      direction: direction\n    });\n    onChange === null || onChange === void 0 ? void 0 : onChange(updatedHighlight);\n    dispatch({\n      direction: direction\n    });\n  };\n\n  /**\n   * Custom dispatch that sets the current highlight\n   * to a given `index` or `id`.\n   *\n   * Fires any side-effects in the `onChange` callback\n   */\n  var setHighlight = function setHighlight(indexOrId) {\n    var action = typeof indexOrId === \'string\' ? {\n      id: indexOrId\n    } : {\n      index: indexOrId\n    };\n    var updatedHighlight = highlightReducerFunction(highlight, action);\n    onChange === null || onChange === void 0 ? void 0 : onChange(updatedHighlight);\n    dispatch(action);\n  };\n  return {\n    highlight: highlight,\n    moveHighlight: moveHighlight,\n    setHighlight: setHighlight\n  };\n};\n;// CONCATENATED MODULE: ./packages/menu/src/HighlightReducer/index.ts\n\n// EXTERNAL MODULE: ./packages/menu/src/MenuContext/MenuContext.tsx\nvar MenuContext = __webpack_require__("./packages/menu/src/MenuContext/MenuContext.tsx");\n// EXTERNAL MODULE: ./node_modules/lodash/lodash.js\nvar lodash = __webpack_require__("./node_modules/lodash/lodash.js");\n;// CONCATENATED MODULE: ./packages/menu/src/Menu/utils/useMenuHeight.ts\n\n\n\nvar useMenuHeight = function useMenuHeight(_ref) {\n  var refEl = _ref.refEl,\n    spacing = _ref.spacing,\n    maxHeight = _ref.maxHeight;\n  // This hook causes a second re-render on initial load. `useAvailableSpace` uses `useViewportSize` internally, which has internal state that causes re-renders.\n  var availableSpace = (0,hooks_dist_esm/* useAvailableSpace */.Uu)(refEl, spacing);\n  var memoizedAvailableSpace = (0,index_js_.useMemo)(function () {\n    return availableSpace;\n  }, [availableSpace]);\n  var maxMenuHeightValue = !(0,lodash.isUndefined)(memoizedAvailableSpace) ? "".concat(Math.min(memoizedAvailableSpace, maxHeight), "px") : \'unset\';\n  return maxMenuHeightValue;\n};\n// EXTERNAL MODULE: ./packages/menu/node_modules/polished/dist/polished.esm.js\nvar polished_esm = __webpack_require__("./packages/menu/node_modules/polished/dist/polished.esm.js");\n// EXTERNAL MODULE: ./packages/palette/dist/esm/index.js\nvar palette_dist_esm = __webpack_require__("./packages/palette/dist/esm/index.js");\n// EXTERNAL MODULE: ./packages/tokens/dist/esm/index.js\nvar tokens_dist_esm = __webpack_require__("./packages/tokens/dist/esm/index.js");\n// EXTERNAL MODULE: ./packages/menu/src/styles.ts\nvar styles = __webpack_require__("./packages/menu/src/styles.ts");\n;// CONCATENATED MODULE: ./packages/menu/src/Menu/Menu.styles.ts\n\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4;\n\n\n\n\n\nvar getMenuStyles = function getMenuStyles(_ref) {\n  var theme = _ref.theme;\n  return (0,dist_esm.css)(_templateObject || (_templateObject = (0,taggedTemplateLiteral/* default */.Z)(["\\n    width: 210px;\\n    border-radius: ", "px;\\n    overflow: auto;\\n    // FIXME: Should this really be 14px?\\n    padding: ", "px 0;\\n\\n    background-color: ", ";\\n    border: 1px solid ", ";\\n\\n    /* // Light mode only */\\n    ", "\\n  "])), tokens_dist_esm/* spacing */.W0[300], tokens_dist_esm/* spacing */.W0[300] + tokens_dist_esm/* spacing */.W0[50], styles/* menuColor */.co[theme].background["default"], styles/* menuColor */.co[theme].border["default"], theme === \'light\' && (0,dist_esm.css)(_templateObject2 || (_templateObject2 = (0,taggedTemplateLiteral/* default */.Z)(["\\n      box-shadow: 0 2px 4px 1px ", ";\\n    "])), (0,polished_esm/* transparentize */.DZ)(0.85, palette_dist_esm/* palette */.D.black)));\n};\nvar scrollContainerStyle = (0,dist_esm.css)(_templateObject3 || (_templateObject3 = (0,taggedTemplateLiteral/* default */.Z)(["\\n  overflow: auto;\\n  margin-block-start: 0px;\\n  margin-block-end: 0px;\\n  padding-inline-start: 0px;\\n  padding: 0px;\\n"])));\n\n// TODO: Remove dark-in-light mode styles\n// after https://jira.mongodb.org/browse/LG-3974\nvar getDarkInLightModeMenuStyles = function getDarkInLightModeMenuStyles() {\n  return (0,dist_esm.css)(_templateObject4 || (_templateObject4 = (0,taggedTemplateLiteral/* default */.Z)(["\\n  box-shadow: unset;\\n  background-color: ", ";\\n  border: 1px solid ", ";\\n"])), tokens_dist_esm/* color */.$_.dark.background.primary["default"], tokens_dist_esm/* color */.$_.dark.border.primary["default"]);\n};\n;// CONCATENATED MODULE: ./packages/menu/src/Menu/Menu.tsx\n\n\n\n\n\nvar Menu_templateObject;\nvar _excluded = ["align", "justify", "adjustOnMutation", "shouldClose", "spacing", "maxHeight", "usePortal", "initialOpen", "open", "setOpen", "darkMode", "renderDarkMenu", "children", "className", "refEl", "trigger", "portalClassName", "portalContainer", "portalRef", "scrollContainer", "popoverZIndex"];\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,defineProperty/* default */.Z)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n *\n * Menus are used when a user needs to take an action.\n *\n * In a menu a user takes an action (like copy/delete a property or navigate to a different section/screen).\n *\n * @param props.children Content to appear inside of Menu.\n * @param props.open Boolean to describe whether or not Menu is open.\n * @param props.setOpen Callback to change the open state of the Menu.\n * @param props.shouldClose Callback to determine whether or not Menu should close when user tries to close it.\n * @param props.className Classname applied to Menu.\n * @param props.align Alignment of Menu relative to another element: `top`, `bottom`, `left`, `right`.\n * @param props.justify Justification of Menu relative to another element: `start`, `middle`, `end`.\n * @param props.refEl Reference element that Menu should be positioned against.\n * @param props.usePortal Boolean to describe if content should be portaled to end of DOM, or appear in DOM tree.\n * @param props.trigger Trigger element can be ReactNode or function, and, if present, internally manages active state of Menu.\n * @param props.darkMode Determines whether or not the component will be rendered in dark theme.\n */\nvar Menu = /*#__PURE__*/index_js_default().forwardRef(function Menu(_ref, forwardRef) {\n  var _ref$align = _ref.align,\n    align = _ref$align === void 0 ? popover_dist_esm/* Align */.xM.Bottom : _ref$align,\n    _ref$justify = _ref.justify,\n    justify = _ref$justify === void 0 ? popover_dist_esm/* Justify */.WD.End : _ref$justify,\n    _ref$adjustOnMutation = _ref.adjustOnMutation,\n    adjustOnMutation = _ref$adjustOnMutation === void 0 ? false : _ref$adjustOnMutation,\n    _ref$shouldClose = _ref.shouldClose,\n    shouldClose = _ref$shouldClose === void 0 ? function () {\n      return true;\n    } : _ref$shouldClose,\n    _ref$spacing = _ref.spacing,\n    spacing = _ref$spacing === void 0 ? 6 : _ref$spacing,\n    _ref$maxHeight = _ref.maxHeight,\n    maxHeight = _ref$maxHeight === void 0 ? 344 : _ref$maxHeight,\n    _ref$usePortal = _ref.usePortal,\n    usePortal = _ref$usePortal === void 0 ? true : _ref$usePortal,\n    _ref$initialOpen = _ref.initialOpen,\n    initialOpen = _ref$initialOpen === void 0 ? false : _ref$initialOpen,\n    controlledOpen = _ref.open,\n    controlledSetOpen = _ref.setOpen,\n    darkModeProp = _ref.darkMode,\n    _ref$renderDarkMenu = _ref.renderDarkMenu,\n    renderDarkMenu = _ref$renderDarkMenu === void 0 ? true : _ref$renderDarkMenu,\n    children = _ref.children,\n    className = _ref.className,\n    refEl = _ref.refEl,\n    trigger = _ref.trigger,\n    portalClassName = _ref.portalClassName,\n    portalContainer = _ref.portalContainer,\n    portalRef = _ref.portalRef,\n    scrollContainer = _ref.scrollContainer,\n    popoverZIndex = _ref.popoverZIndex,\n    rest = (0,objectWithoutProperties/* default */.Z)(_ref, _excluded);\n  var _useDarkMode = (0,leafygreen_provider_dist_esm/* useDarkMode */.vs)(darkModeProp),\n    theme = _useDarkMode.theme,\n    darkMode = _useDarkMode.darkMode;\n  var popoverRef = (0,index_js_.useRef)(null);\n  var triggerRef = (0,index_js_.useRef)(null);\n  var _useState = (0,index_js_.useState)(initialOpen),\n    _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n    uncontrolledOpen = _useState2[0],\n    uncontrolledSetOpen = _useState2[1];\n  var setOpen = typeof controlledOpen === \'boolean\' && controlledSetOpen || uncontrolledSetOpen;\n  var open = controlledOpen !== null && controlledOpen !== void 0 ? controlledOpen : uncontrolledOpen;\n  var handleClose = (0,index_js_.useCallback)(function () {\n    if (shouldClose()) {\n      setOpen(false);\n    }\n  }, [setOpen, shouldClose]);\n  var maxMenuHeightValue = useMenuHeight({\n    refEl: refEl || triggerRef,\n    spacing: spacing,\n    maxHeight: maxHeight\n  });\n  (0,hooks_dist_esm/* useBackdropClick */.Sj)(handleClose, [popoverRef, triggerRef], open);\n  var _useInitDescendants = (0,esm/* useInitDescendants */.Ds)(),\n    descendants = _useInitDescendants.descendants,\n    dispatch = _useInitDescendants.dispatch,\n    getDescendants = _useInitDescendants.getDescendants;\n\n  // Tracks the currently highlighted (focused) item index\n  // Fires `.focus()` when the index is updated\n  var _useHighlightReducer = useHighlightReducer(getDescendants, function (_next) {\n      if ((0,lib_dist_esm/* isDefined */.$K)(_next)) {\n        var nextDescendant = (0,esm/* getDescendantById */.iN)(_next.id, getDescendants());\n        var descendantElement = nextDescendant === null || nextDescendant === void 0 ? void 0 : nextDescendant.ref.current;\n        descendantElement === null || descendantElement === void 0 ? void 0 : descendantElement.focus();\n      }\n    }),\n    highlight = _useHighlightReducer.highlight,\n    moveHighlight = _useHighlightReducer.moveHighlight,\n    setHighlight = _useHighlightReducer.setHighlight;\n\n  // Callback fired when the popover transition finishes.\n  // Handling on this event ensures that the `descendants` elements\n  // exist in the DOM before attempting to set `focus`\n  var handlePopoverOpen = function handlePopoverOpen() {\n    moveHighlight(\'first\');\n  };\n\n  // Fired on global keyDown event\n  function handleKeyDown(e) {\n    var _ref2, _ref3;\n    switch (e.key) {\n      case lib_dist_esm/* keyMap */.Pc.ArrowDown:\n        e.preventDefault(); // Prevents page scrolling\n        moveHighlight(\'next\');\n        break;\n      case lib_dist_esm/* keyMap */.Pc.ArrowUp:\n        e.preventDefault(); // Prevents page scrolling\n        moveHighlight(\'prev\');\n        break;\n      case lib_dist_esm/* keyMap */.Pc.Tab:\n        e.preventDefault(); // Prevent tabbing outside of portal and outside of the DOM when `usePortal={true}`\n        handleClose();\n        (_ref2 = refEl || triggerRef) === null || _ref2 === void 0 || (_ref2 = _ref2.current) === null || _ref2 === void 0 ? void 0 : _ref2.focus(); // Focus the trigger on close\n        break;\n      case lib_dist_esm/* keyMap */.Pc.Escape:\n        handleClose();\n        (_ref3 = refEl || triggerRef) === null || _ref3 === void 0 || (_ref3 = _ref3.current) === null || _ref3 === void 0 ? void 0 : _ref3.focus(); // Focus the trigger on close\n        break;\n      case lib_dist_esm/* keyMap */.Pc.Space:\n      case lib_dist_esm/* keyMap */.Pc.Enter:\n        if (!open) {\n          moveHighlight(\'first\');\n        }\n        break;\n    }\n  }\n  (0,hooks_dist_esm/* useEventListener */.OR)(\'keydown\', handleKeyDown, {\n    enabled: open\n  });\n  var popoverProps = _objectSpread({\n    popoverZIndex: popoverZIndex\n  }, usePortal ? {\n    spacing: spacing,\n    usePortal: usePortal,\n    portalClassName: portalClassName,\n    portalContainer: portalContainer,\n    portalRef: portalRef,\n    scrollContainer: scrollContainer\n  } : {\n    spacing: spacing,\n    usePortal: usePortal\n  });\n  var popoverContent = /*#__PURE__*/index_js_default().createElement(esm/* DescendantsProvider */.nB, {\n    context: MenuContext/* MenuDescendantsContext */.k0,\n    descendants: descendants,\n    dispatch: dispatch\n  }, /*#__PURE__*/index_js_default().createElement(MenuContext/* MenuContext */.pl.Provider, {\n    value: {\n      theme: theme,\n      darkMode: darkMode,\n      highlight: highlight,\n      setHighlight: setHighlight,\n      renderDarkMenu: renderDarkMenu\n    }\n  }, /*#__PURE__*/index_js_default().createElement(popover_dist_esm/* default */.ZP, (0,esm_extends/* default */.Z)({\n    key: "popover",\n    active: open,\n    align: align,\n    justify: justify,\n    refEl: refEl,\n    adjustOnMutation: adjustOnMutation,\n    onEntered: handlePopoverOpen,\n    "data-testid": constants/* LGIDs */.l.root,\n    "data-lgid": constants/* LGIDs */.l.root\n  }, popoverProps), /*#__PURE__*/index_js_default().createElement("div", {\n    "data-theme": theme,\n    className: (0,dist_esm.cx)(getMenuStyles({\n      theme: theme\n    }), (0,dist_esm.css)(Menu_templateObject || (Menu_templateObject = (0,taggedTemplateLiteral/* default */.Z)(["\\n                max-height: ", ";\\n              "])), maxMenuHeightValue), (0,defineProperty/* default */.Z)({}, getDarkInLightModeMenuStyles(), theme === lib_dist_esm/* Theme */.Q2.Light && renderDarkMenu), className),\n    ref: forwardRef\n  }, /*#__PURE__*/index_js_default().createElement("ul", (0,esm_extends/* default */.Z)({}, rest, {\n    className: scrollContainerStyle,\n    role: "menu",\n    onClick: function onClick(e) {\n      return e.stopPropagation();\n    },\n    ref: popoverRef\n  }), children)))));\n  if (trigger) {\n    var triggerClickHandler = function triggerClickHandler(event) {\n      var _event$nativeEvent, _event$nativeEvent$st;\n      event === null || event === void 0 ? void 0 : event.preventDefault();\n      setOpen(function (curr) {\n        return !curr;\n      });\n      if (trigger && typeof trigger !== \'function\') {\n        var _trigger$props, _trigger$props$onClic;\n        (_trigger$props = trigger.props) === null || _trigger$props === void 0 || (_trigger$props$onClic = _trigger$props.onClick) === null || _trigger$props$onClic === void 0 ? void 0 : _trigger$props$onClic.call(_trigger$props, event);\n      }\n\n      // We stop the native event from bubbling, but allow the React.Synthetic event to bubble\n      // This way click handlers on parent components will still fire,\n      // but this click event won\'t propagate up to the document and immediately close the menu.\n      event === null || event === void 0 || (_event$nativeEvent = event.nativeEvent) === null || _event$nativeEvent === void 0 || (_event$nativeEvent$st = _event$nativeEvent.stopPropagation) === null || _event$nativeEvent$st === void 0 ? void 0 : _event$nativeEvent$st.call(_event$nativeEvent);\n    };\n    if (typeof trigger === \'function\') {\n      return trigger((0,defineProperty/* default */.Z)((0,defineProperty/* default */.Z)({\n        onClick: triggerClickHandler,\n        ref: triggerRef,\n        children: popoverContent\n      }, \'aria-expanded\', open), \'aria-haspopup\', true));\n    }\n    var renderedTrigger = /*#__PURE__*/index_js_default().cloneElement(trigger, (0,defineProperty/* default */.Z)((0,defineProperty/* default */.Z)({\n      ref: triggerRef,\n      onClick: triggerClickHandler,\n      children: /*#__PURE__*/index_js_default().createElement((index_js_default()).Fragment, null, trigger.props.children, popoverContent)\n    }, \'aria-expanded\', open), \'aria-haspopup\', true));\n    return renderedTrigger;\n  }\n  return popoverContent;\n});\nMenu.displayName = \'Menu\';\nMenu.propTypes = {\n  children: (prop_types_default()).node,\n  className: (prop_types_default()).string,\n  align: prop_types_default().oneOf(Object.values(popover_dist_esm/* Align */.xM)),\n  justify: prop_types_default().oneOf(Object.values(popover_dist_esm/* Justify */.WD)),\n  refEl: prop_types_default().shape({\n    current: typeof window !== \'undefined\' ? prop_types_default().instanceOf(Element) : (prop_types_default()).any\n  }),\n  portalRef: prop_types_default().shape({\n    current: typeof window !== \'undefined\' ? prop_types_default().instanceOf(Element) : (prop_types_default()).any\n  }),\n  usePortal: (prop_types_default()).bool,\n  trigger: prop_types_default().oneOfType([(prop_types_default()).node, (prop_types_default()).func]),\n  open: (prop_types_default()).bool,\n  setOpen: (prop_types_default()).func,\n  darkMode: (prop_types_default()).bool\n};\n/* harmony default export */ const Menu_Menu = (Menu);\n;// CONCATENATED MODULE: ./packages/menu/src/Menu/index.ts\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWUsQ0FBQ2lILE1BQU0sQ0FBQ0MsTUFBTSxDQUFDeEcsOEJBQUssQ0FBQyxDQUFDO0VBQzVDVyxPQUFPLEVBQUVyQiwwQkFBZSxDQUFDaUgsTUFBTSxDQUFDQyxNQUFNLENBQUN2RyxnQ0FBTyxDQUFDLENBQUM7RUFDaEQzQyxLQUFLLEVBQUVnQywwQkFBZSxDQUFDO0lBQ3JCM0UsT0FBTyxFQUNMLE9BQU8rTCxNQUFNLEtBQUssV0FBVyxHQUN6QnBILCtCQUFvQixDQUFDc0gsT0FBTyxDQUFDLEdBQzdCdEgsMEJBQWF1SDtFQUNyQixDQUFDLENBQUM7RUFDRnpFLFNBQVMsRUFBRTlDLDBCQUFlLENBQUM7SUFDekIzRSxPQUFPLEVBQ0wsT0FBTytMLE1BQU0sS0FBSyxXQUFXLEdBQ3pCcEgsK0JBQW9CLENBQUNzSCxPQUFPLENBQUMsR0FDN0J0SCwwQkFBYXVIO0VBQ3JCLENBQUMsQ0FBQztFQUNGekYsU0FBUyxFQUFFOUIsMkJBQWM7RUFDekIyQyxPQUFPLEVBQUUzQyw4QkFBbUIsQ0FBQyxDQUFDQSwyQkFBYyxFQUFFQSwyQkFBYyxDQUFDLENBQUM7RUFDOURrQyxJQUFJLEVBQUVsQywyQkFBYztFQUNwQm9DLE9BQU8sRUFBRXBDLDJCQUFjO0VBQ3ZCc0MsUUFBUSxFQUFFdEMsMkJBQWN3SDtBQUMxQixDQUFRO0FBRVIsZ0RBQWV6RyxJQUFJLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sZWFmeWdyZWVuLXVpLy4vcGFja2FnZXMvbWVudS9zcmMvSGlnaGxpZ2h0UmVkdWNlci91dGlscy9nZXROZXh0SW5kZXgudHM/Y2MyOSIsIndlYnBhY2s6Ly9sZWFmeWdyZWVuLXVpLy4vcGFja2FnZXMvbWVudS9zcmMvSGlnaGxpZ2h0UmVkdWNlci91dGlscy9nZXROZXh0RW5hYmxlZC50cz80Y2ZjIiwid2VicGFjazovL2xlYWZ5Z3JlZW4tdWkvLi9wYWNrYWdlcy9tZW51L3NyYy9IaWdobGlnaHRSZWR1Y2VyL3V0aWxzL2lzRGVzY2VuZGFudHNTZXQudHM/MjJhNiIsIndlYnBhY2s6Ly9sZWFmeWdyZWVuLXVpLy4vcGFja2FnZXMvbWVudS9zcmMvSGlnaGxpZ2h0UmVkdWNlci91dGlscy9nZXROZXh0RnJvbURpcmVjdGlvbi50cz9kODRhIiwid2VicGFjazovL2xlYWZ5Z3JlZW4tdWkvLi9wYWNrYWdlcy9tZW51L3NyYy9IaWdobGlnaHRSZWR1Y2VyL0hpZ2hsaWdodFJlZHVjZXIudHM/ZjM2YiIsIndlYnBhY2s6Ly9sZWFmeWdyZWVuLXVpLy4vcGFja2FnZXMvbWVudS9zcmMvSGlnaGxpZ2h0UmVkdWNlci9pbmRleC50cz9mOGJmIiwid2VicGFjazovL2xlYWZ5Z3JlZW4tdWkvLi9wYWNrYWdlcy9tZW51L3NyYy9NZW51L3V0aWxzL3VzZU1lbnVIZWlnaHQudHM/ZDk5ZSIsIndlYnBhY2s6Ly9sZWFmeWdyZWVuLXVpLy4vcGFja2FnZXMvbWVudS9zcmMvTWVudS9NZW51LnN0eWxlcy50cz9kNTA0Iiwid2VicGFjazovL2xlYWZ5Z3JlZW4tdWkvLi9wYWNrYWdlcy9tZW51L3NyYy9NZW51L01lbnUudHN4PzQzNDAiLCJ3ZWJwYWNrOi8vbGVhZnlncmVlbi11aS8uL3BhY2thZ2VzL21lbnUvc3JjL01lbnUvaW5kZXgudHM/MmM4NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0RlZmluZWQgfSBmcm9tICdAbGVhZnlncmVlbi11aS9saWInO1xuXG5pbXBvcnQgdHlwZSB7IERpcmVjdGlvbiwgSW5kZXggfSBmcm9tICcuLi9oaWdobGlnaHQudHlwZXMnO1xuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBuZXh0IGluZGV4IGdpdmVuIGEgZGlyZWN0aW9uXG4gKi9cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIGdldE5leHRJbmRleChkaXJlY3Rpb246IERpcmVjdGlvbiwgY3VycmVudEluZGV4OiBudW1iZXIsIHRvdGFsSXRlbXM6IG51bWJlcik6IG51bWJlcjtcbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIGdldE5leHRJbmRleChkaXJlY3Rpb246IERpcmVjdGlvbiwgY3VycmVudEluZGV4OiB1bmRlZmluZWQsIHRvdGFsSXRlbXM6IG51bWJlcik6IHVuZGVmaW5lZDtcbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIGdldE5leHRJbmRleChkaXJlY3Rpb246IERpcmVjdGlvbiwgY3VycmVudEluZGV4OiBJbmRleCwgdG90YWxJdGVtczogbnVtYmVyKTogSW5kZXgge1xuICBpZiAoIWlzRGVmaW5lZChjdXJyZW50SW5kZXgpKSByZXR1cm4gY3VycmVudEluZGV4O1xuXG4gIHN3aXRjaCAoZGlyZWN0aW9uKSB7XG4gICAgY2FzZSAnbmV4dCc6XG4gICAgICByZXR1cm4gKGN1cnJlbnRJbmRleCArIDEpICUgdG90YWxJdGVtcztcbiAgICBjYXNlICdwcmV2JzpcbiAgICAgIHJldHVybiAoY3VycmVudEluZGV4IC0gMSArIHRvdGFsSXRlbXMpICUgdG90YWxJdGVtcztcbiAgICBjYXNlICdsYXN0JzpcbiAgICAgIHJldHVybiB0b3RhbEl0ZW1zIC0gMTtcbiAgICBjYXNlICdmaXJzdCc6XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAwO1xuICB9XG59XG4iLCJpbXBvcnQge1xuICBEZXNjZW5kYW50LFxuICBEZXNjZW5kYW50c0xpc3QsXG4gIGdldERlc2NlbmRhbnRCeUluZGV4LFxufSBmcm9tICdAbGVhZnlncmVlbi11aS9kZXNjZW5kYW50cyc7XG5cbmltcG9ydCB7IERpcmVjdGlvbiwgSW5kZXggfSBmcm9tICcuLi9oaWdobGlnaHQudHlwZXMnO1xuXG5pbXBvcnQgeyBnZXROZXh0SW5kZXggfSBmcm9tICcuL2dldE5leHRJbmRleCc7XG5cbi8qKlxuICogRmluZHMgdGhlIGluZGV4IG9mIHRoZSBzdWJzZXF1ZW50IGBlbmFibGVkYCBkZXNjZW5kYW50IGVsZW1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE5leHRFbmFibGVkSW5kZXgoXG4gIGRpcmVjdGlvbjogRGlyZWN0aW9uLFxuICBjdXJyZW50OiBEZXNjZW5kYW50IHwgdW5kZWZpbmVkLFxuICBkZXNjZW5kYW50czogRGVzY2VuZGFudHNMaXN0PEhUTUxFbGVtZW50Pixcbik6IEluZGV4IHtcbiAgLy8gSWYgYWxsIGRlc2NlbmRhbnRzIGFyZSBkaXNhYmxlZCwgdGhlbiB3ZSBza2lwIHRoaXMgc3RlcFxuICBpZiAoZGVzY2VuZGFudHMuZXZlcnkoZCA9PiBkLnByb3BzLmRpc2FibGVkKSkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBsZXQgdXBkYXRlZEluZGV4ID0gZ2V0TmV4dEluZGV4KFxuICAgIGRpcmVjdGlvbixcbiAgICBjdXJyZW50Py5pbmRleCA/PyAwLFxuICAgIGRlc2NlbmRhbnRzLmxlbmd0aCxcbiAgKTtcbiAgbGV0IGl0ZW0gPSBnZXREZXNjZW5kYW50QnlJbmRleCh1cGRhdGVkSW5kZXgsIGRlc2NlbmRhbnRzKTtcblxuICAvLyBJZiB0aGUgc3Vic2VxdWVudCBpdGVtIGlzIGRpc2FibGVkLFxuICAvLyBrZWVwIHNlYXJjaGluZyBpbiB0aGF0IGRpcmVjdGlvbiBmb3IgYW4gZW5hYmxlZCBvbmVcbiAgd2hpbGUgKGl0ZW0/LnByb3BzLmRpc2FibGVkKSB7XG4gICAgLy8gSWYgdGhlIGZpcnN0L2xhc3QgaXRlbSBpcyBkaXNhYmxlZFxuICAgIC8vIHN0YXJ0IHRoZSBzZWFyY2ggaW4gdGhlIGZvcndhcmQvYmFja3dhcmQgZGlyZWN0aW9uXG4gICAgY29uc3QgbmV4dERpcmVjdGlvbjogRGlyZWN0aW9uID0gKCgpID0+IHtcbiAgICAgIHN3aXRjaCAoZGlyZWN0aW9uKSB7XG4gICAgICAgIGNhc2UgJ2ZpcnN0JzpcbiAgICAgICAgICByZXR1cm4gJ25leHQnO1xuICAgICAgICBjYXNlICdsYXN0JzpcbiAgICAgICAgICByZXR1cm4gJ3ByZXYnO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBkaXJlY3Rpb247XG4gICAgICB9XG4gICAgfSkoKTtcbiAgICB1cGRhdGVkSW5kZXggPSBnZXROZXh0SW5kZXgoXG4gICAgICBuZXh0RGlyZWN0aW9uLFxuICAgICAgdXBkYXRlZEluZGV4LFxuICAgICAgZGVzY2VuZGFudHMubGVuZ3RoLFxuICAgICk7XG4gICAgaXRlbSA9IGRlc2NlbmRhbnRzW3VwZGF0ZWRJbmRleF07XG4gIH1cblxuICByZXR1cm4gdXBkYXRlZEluZGV4O1xufVxuIiwiaW1wb3J0IHsgRGVzY2VuZGFudHNMaXN0IH0gZnJvbSAnQGxlYWZ5Z3JlZW4tdWkvZGVzY2VuZGFudHMnO1xuaW1wb3J0IHsgaXNEZWZpbmVkIH0gZnJvbSAnQGxlYWZ5Z3JlZW4tdWkvbGliJztcblxuZXhwb3J0IGNvbnN0IGlzRGVzY2VuZGFudHNTZXQgPSAoXG4gIGRlc2NlbmRhbnRzPzogRGVzY2VuZGFudHNMaXN0PGFueT4sXG4pOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIGlzRGVmaW5lZChkZXNjZW5kYW50cykgJiYgZGVzY2VuZGFudHMubGVuZ3RoID4gMDtcbn07XG4iLCJpbXBvcnQge1xuICBEZXNjZW5kYW50LFxuICBEZXNjZW5kYW50c0xpc3QsXG4gIGdldERlc2NlbmRhbnRCeUluZGV4LFxufSBmcm9tICdAbGVhZnlncmVlbi11aS9kZXNjZW5kYW50cyc7XG5pbXBvcnQgeyBpc0RlZmluZWQgfSBmcm9tICdAbGVhZnlncmVlbi11aS9saWInO1xuXG5pbXBvcnQgeyBEaXJlY3Rpb24gfSBmcm9tICcuLi9oaWdobGlnaHQudHlwZXMnO1xuXG5pbXBvcnQgeyBnZXROZXh0RW5hYmxlZEluZGV4IH0gZnJvbSAnLi9nZXROZXh0RW5hYmxlZCc7XG5pbXBvcnQgeyBpc0Rlc2NlbmRhbnRzU2V0IH0gZnJvbSAnLi9pc0Rlc2NlbmRhbnRzU2V0JztcblxuZXhwb3J0IGNvbnN0IGdldE5leHRGcm9tRGlyZWN0aW9uID0gKFxuICBkaXJlY3Rpb246IERpcmVjdGlvbixcbiAgY3VycmVudDogRGVzY2VuZGFudCB8IHVuZGVmaW5lZCxcbiAgZGVzY2VuZGFudHM6IERlc2NlbmRhbnRzTGlzdCxcbik6IERlc2NlbmRhbnQgfCB1bmRlZmluZWQgPT4ge1xuICAvLyBJZiBkZXNjZW5kYW50cyBpcyBub3Qgc2V0XG4gIC8vIHRoZW4gd2UgZG9uJ3QgbXV0YXRlIHRoZSBpbmRleFxuICBpZiAoIWlzRGVzY2VuZGFudHNTZXQoZGVzY2VuZGFudHMpKSB7XG4gICAgcmV0dXJuIGN1cnJlbnQ7XG4gIH1cblxuICBjb25zdCB1cGRhdGVkSW5kZXggPSBnZXROZXh0RW5hYmxlZEluZGV4KGRpcmVjdGlvbiwgY3VycmVudCwgZGVzY2VuZGFudHMpO1xuXG4gIGlmIChpc0RlZmluZWQodXBkYXRlZEluZGV4KSkge1xuICAgIGNvbnN0IG5leHREZXNjZW5kYW50ID0gZ2V0RGVzY2VuZGFudEJ5SW5kZXgodXBkYXRlZEluZGV4LCBkZXNjZW5kYW50cyk7XG5cbiAgICByZXR1cm4gbmV4dERlc2NlbmRhbnQ7XG4gIH1cblxuICByZXR1cm4gY3VycmVudDtcbn07XG4iLCJpbXBvcnQgeyB0eXBlIFJlZHVjZXIsIHVzZVJlZHVjZXIgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7XG4gIERlc2NlbmRhbnQsXG4gIERlc2NlbmRhbnRzTGlzdCxcbiAgZ2V0RGVzY2VuZGFudEJ5SWQsXG4gIGdldERlc2NlbmRhbnRCeUluZGV4LFxufSBmcm9tICdAbGVhZnlncmVlbi11aS9kZXNjZW5kYW50cyc7XG5cbmltcG9ydCB7IGdldE5leHRGcm9tRGlyZWN0aW9uIH0gZnJvbSAnLi91dGlscy9nZXROZXh0RnJvbURpcmVjdGlvbic7XG5pbXBvcnQgeyBpc0Rlc2NlbmRhbnRzU2V0IH0gZnJvbSAnLi91dGlscy9pc0Rlc2NlbmRhbnRzU2V0JztcbmltcG9ydCB0eXBlIHtcbiAgRGlyZWN0aW9uLFxuICBIaWdobGlnaHRDaGFuZ2VIYW5kbGVyLFxuICBIaWdobGlnaHRSZWR1Y2VyRnVuY3Rpb24sXG4gIEhpZ2hsaWdodFJlZHVjZXJSZXR1cm5UeXBlLFxuICBVcGRhdGVIaWdobGlnaHRBY3Rpb24sXG59IGZyb20gJy4vaGlnaGxpZ2h0LnR5cGVzJztcblxuY29uc3QgZ2V0SW5pdGlhbEhpZ2hsaWdodCA9IChkZXNjZW5kYW50czogRGVzY2VuZGFudHNMaXN0PEhUTUxFbGVtZW50PikgPT5cbiAgaXNEZXNjZW5kYW50c1NldChkZXNjZW5kYW50cykgPyBkZXNjZW5kYW50c1swXSA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHJlZHVjZXIgZnVuY3Rpb24gZm9yIGNsb3N1cmUgZm9yIGEgZ2l2ZW4gYGRlc2NlbmRhbnRzYCB2YWx1ZVxuICovXG5jb25zdCBtYWtlSGlnaGxpZ2h0UmVkdWNlckZ1bmN0aW9uID1cbiAgKGdldERlc2NlbmRhbnRzOiAoKSA9PiBEZXNjZW5kYW50c0xpc3QpOiBIaWdobGlnaHRSZWR1Y2VyRnVuY3Rpb24gPT5cbiAgKGN1cnJlbnRIaWdobGlnaHQsIGFjdGlvbikgPT4ge1xuICAgIGNvbnN0IGRlc2NlbmRhbnRzID0gZ2V0RGVzY2VuZGFudHMoKTtcblxuICAgIC8vIElmIHdlJ3ZlIHJlY2VpdmVkIGEgZGlyZWN0aW9uLCBtb3ZlIHRoZSBoaWdobGlnaHRcbiAgICBpZiAoYWN0aW9uLmRpcmVjdGlvbikge1xuICAgICAgY29uc3QgbmV4dEhpZ2hsaWdodCA9IGdldE5leHRGcm9tRGlyZWN0aW9uKFxuICAgICAgICBhY3Rpb24uZGlyZWN0aW9uLFxuICAgICAgICBjdXJyZW50SGlnaGxpZ2h0LFxuICAgICAgICBkZXNjZW5kYW50cyxcbiAgICAgICk7XG4gICAgICByZXR1cm4gbmV4dEhpZ2hsaWdodCB8fCBjdXJyZW50SGlnaGxpZ2h0O1xuICAgIH0gZWxzZSBpZiAoYWN0aW9uLmluZGV4KSB7XG4gICAgICBjb25zdCBuZXh0SGlnaGxpZ2h0ID0gZ2V0RGVzY2VuZGFudEJ5SW5kZXgoYWN0aW9uLmluZGV4LCBkZXNjZW5kYW50cyk7XG4gICAgICByZXR1cm4gbmV4dEhpZ2hsaWdodDtcbiAgICB9IGVsc2UgaWYgKGFjdGlvbi5pZCkge1xuICAgICAgY29uc3QgbmV4dEhpZ2hsaWdodCA9IGdldERlc2NlbmRhbnRCeUlkKGFjdGlvbi5pZCwgZGVzY2VuZGFudHMpO1xuICAgICAgcmV0dXJuIG5leHRIaWdobGlnaHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGN1cnJlbnRIaWdobGlnaHQ7XG4gIH07XG5cbi8qKlxuICogQ3VzdG9tIGhvb2sgdGhhdCBoYW5kbGVzIHNldHRpbmcgdGhlIGhpZ2hsaWdodGVkIGRlc2NlbmRhbnQgaW5kZXgsXG4gKiBhbmQgZmlyZXMgYW55IGBvbkNoYW5nZWAgc2lkZSBlZmZlY3RzXG4gKi9cbmV4cG9ydCBjb25zdCB1c2VIaWdobGlnaHRSZWR1Y2VyID0gKFxuICAvKiogQW4gYWNjZXNzb3IgZm9yIHRoZSB1cGRhdGVkIGRlc2NlbmRhbnRzIGxpc3QgKi9cbiAgZ2V0RGVzY2VuZGFudHM6ICgpID0+IERlc2NlbmRhbnRzTGlzdCxcbiAgLyoqIEEgY2FsbGJhY2sgZmlyZWQgd2hlbiB0aGUgaGlnaGxpZ2h0IGNoYW5nZXMgKi9cbiAgb25DaGFuZ2U/OiBIaWdobGlnaHRDaGFuZ2VIYW5kbGVyLFxuKTogSGlnaGxpZ2h0UmVkdWNlclJldHVyblR5cGUgPT4ge1xuICAvLyBDcmVhdGUgYSByZWR1Y2VyIGZ1bmN0aW9uXG4gIGNvbnN0IGhpZ2hsaWdodFJlZHVjZXJGdW5jdGlvbiA9IG1ha2VIaWdobGlnaHRSZWR1Y2VyRnVuY3Rpb24oZ2V0RGVzY2VuZGFudHMpO1xuXG4gIC8vIENyZWF0ZSB0aGUgcmVkdWNlclxuICBjb25zdCBbaGlnaGxpZ2h0LCBkaXNwYXRjaF0gPSB1c2VSZWR1Y2VyPFxuICAgIFJlZHVjZXI8RGVzY2VuZGFudCB8IHVuZGVmaW5lZCwgVXBkYXRlSGlnaGxpZ2h0QWN0aW9uPlxuICA+KGhpZ2hsaWdodFJlZHVjZXJGdW5jdGlvbiwgZ2V0SW5pdGlhbEhpZ2hsaWdodChnZXREZXNjZW5kYW50cygpKSk7XG5cbiAgLyoqXG4gICAqIEN1c3RvbSBkaXNwYXRjaCB0aGF0IG1vdmVzIHRoZSBjdXJyZW50IGhpZ2hsaWdodFxuICAgKiBpbiBhIGdpdmVuIGRpcmVjdGlvblxuICAgKlxuICAgKiBGaXJlcyBhbnkgc2lkZS1lZmZlY3RzIGluIHRoZSBgb25DaGFuZ2VgIGNhbGxiYWNrXG4gICAqL1xuICBjb25zdCBtb3ZlSGlnaGxpZ2h0ID0gKGRpcmVjdGlvbjogRGlyZWN0aW9uKSA9PiB7XG4gICAgY29uc3QgdXBkYXRlZEhpZ2hsaWdodCA9IGhpZ2hsaWdodFJlZHVjZXJGdW5jdGlvbihoaWdobGlnaHQsIHtcbiAgICAgIGRpcmVjdGlvbixcbiAgICB9KTtcblxuICAgIG9uQ2hhbmdlPy4odXBkYXRlZEhpZ2hsaWdodCk7XG4gICAgZGlzcGF0Y2goeyBkaXJlY3Rpb24gfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEN1c3RvbSBkaXNwYXRjaCB0aGF0IHNldHMgdGhlIGN1cnJlbnQgaGlnaGxpZ2h0XG4gICAqIHRvIGEgZ2l2ZW4gYGluZGV4YCBvciBgaWRgLlxuICAgKlxuICAgKiBGaXJlcyBhbnkgc2lkZS1lZmZlY3RzIGluIHRoZSBgb25DaGFuZ2VgIGNhbGxiYWNrXG4gICAqL1xuICBjb25zdCBzZXRIaWdobGlnaHQgPSAoaW5kZXhPcklkOiBudW1iZXIgfCBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBhY3Rpb24gPVxuICAgICAgdHlwZW9mIGluZGV4T3JJZCA9PT0gJ3N0cmluZydcbiAgICAgICAgPyB7XG4gICAgICAgICAgICBpZDogaW5kZXhPcklkLFxuICAgICAgICAgIH1cbiAgICAgICAgOiB7XG4gICAgICAgICAgICBpbmRleDogaW5kZXhPcklkLFxuICAgICAgICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVkSGlnaGxpZ2h0ID0gaGlnaGxpZ2h0UmVkdWNlckZ1bmN0aW9uKGhpZ2hsaWdodCwgYWN0aW9uKTtcbiAgICBvbkNoYW5nZT8uKHVwZGF0ZWRIaWdobGlnaHQpO1xuICAgIGRpc3BhdGNoKGFjdGlvbik7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBoaWdobGlnaHQsXG4gICAgbW92ZUhpZ2hsaWdodCxcbiAgICBzZXRIaWdobGlnaHQsXG4gIH07XG59O1xuIiwiZXhwb3J0IHR5cGUgeyBEaXJlY3Rpb24sIEluZGV4IH0gZnJvbSAnLi9oaWdobGlnaHQudHlwZXMnO1xuZXhwb3J0IHsgdXNlSGlnaGxpZ2h0UmVkdWNlciB9IGZyb20gJy4vSGlnaGxpZ2h0UmVkdWNlcic7XG4iLCJpbXBvcnQgeyB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgaXNVbmRlZmluZWQgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQgeyB1c2VBdmFpbGFibGVTcGFjZSB9IGZyb20gJ0BsZWFmeWdyZWVuLXVpL2hvb2tzJztcblxuaW50ZXJmYWNlIE1lbnVIZWlnaHRBcmdzIHtcbiAgcmVmRWw6IFJlYWN0LlJlZk9iamVjdDxIVE1MRWxlbWVudD47XG4gIHNwYWNpbmc6IG51bWJlcjtcbiAgbWF4SGVpZ2h0OiBudW1iZXI7XG59XG5cbmV4cG9ydCBjb25zdCB1c2VNZW51SGVpZ2h0ID0gKHtcbiAgcmVmRWwsXG4gIHNwYWNpbmcsXG4gIG1heEhlaWdodCxcbn06IE1lbnVIZWlnaHRBcmdzKSA9PiB7XG4gIC8vIFRoaXMgaG9vayBjYXVzZXMgYSBzZWNvbmQgcmUtcmVuZGVyIG9uIGluaXRpYWwgbG9hZC4gYHVzZUF2YWlsYWJsZVNwYWNlYCB1c2VzIGB1c2VWaWV3cG9ydFNpemVgIGludGVybmFsbHksIHdoaWNoIGhhcyBpbnRlcm5hbCBzdGF0ZSB0aGF0IGNhdXNlcyByZS1yZW5kZXJzLlxuICBjb25zdCBhdmFpbGFibGVTcGFjZSA9IHVzZUF2YWlsYWJsZVNwYWNlKHJlZkVsLCBzcGFjaW5nKTtcblxuICBjb25zdCBtZW1vaXplZEF2YWlsYWJsZVNwYWNlID0gdXNlTWVtbyhcbiAgICAoKSA9PiBhdmFpbGFibGVTcGFjZSxcbiAgICBbYXZhaWxhYmxlU3BhY2VdLFxuICApO1xuICBjb25zdCBtYXhNZW51SGVpZ2h0VmFsdWUgPSAhaXNVbmRlZmluZWQobWVtb2l6ZWRBdmFpbGFibGVTcGFjZSlcbiAgICA/IGAke01hdGgubWluKG1lbW9pemVkQXZhaWxhYmxlU3BhY2UsIG1heEhlaWdodCl9cHhgXG4gICAgOiAndW5zZXQnO1xuICByZXR1cm4gbWF4TWVudUhlaWdodFZhbHVlO1xufTtcbiIsImltcG9ydCB7IHRyYW5zcGFyZW50aXplIH0gZnJvbSAncG9saXNoZWQnO1xuXG5pbXBvcnQgeyBjc3MgfSBmcm9tICdAbGVhZnlncmVlbi11aS9lbW90aW9uJztcbmltcG9ydCB7IFRoZW1lIH0gZnJvbSAnQGxlYWZ5Z3JlZW4tdWkvbGliJztcbmltcG9ydCB7IHBhbGV0dGUgfSBmcm9tICdAbGVhZnlncmVlbi11aS9wYWxldHRlJztcbmltcG9ydCB7IGNvbG9yLCBzcGFjaW5nIH0gZnJvbSAnQGxlYWZ5Z3JlZW4tdWkvdG9rZW5zJztcblxuaW1wb3J0IHsgbWVudUNvbG9yIH0gZnJvbSAnLi4vc3R5bGVzJztcblxuZXhwb3J0IGludGVyZmFjZSBNZW51U3R5bGVBcmdzIHtcbiAgdGhlbWU6IFRoZW1lO1xufVxuXG5leHBvcnQgY29uc3QgZ2V0TWVudVN0eWxlcyA9ICh7IHRoZW1lIH06IE1lbnVTdHlsZUFyZ3MpID0+IHtcbiAgcmV0dXJuIGNzc2BcbiAgICB3aWR0aDogMjEwcHg7XG4gICAgYm9yZGVyLXJhZGl1czogJHtzcGFjaW5nWzMwMF19cHg7XG4gICAgb3ZlcmZsb3c6IGF1dG87XG4gICAgLy8gRklYTUU6IFNob3VsZCB0aGlzIHJlYWxseSBiZSAxNHB4P1xuICAgIHBhZGRpbmc6ICR7c3BhY2luZ1szMDBdICsgc3BhY2luZ1s1MF19cHggMDtcblxuICAgIGJhY2tncm91bmQtY29sb3I6ICR7bWVudUNvbG9yW3RoZW1lXS5iYWNrZ3JvdW5kLmRlZmF1bHR9O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICR7bWVudUNvbG9yW3RoZW1lXS5ib3JkZXIuZGVmYXVsdH07XG5cbiAgICAvKiAvLyBMaWdodCBtb2RlIG9ubHkgKi9cbiAgICAke3RoZW1lID09PSAnbGlnaHQnICYmXG4gICAgY3NzYFxuICAgICAgYm94LXNoYWRvdzogMCAycHggNHB4IDFweCAke3RyYW5zcGFyZW50aXplKDAuODUsIHBhbGV0dGUuYmxhY2spfTtcbiAgICBgfVxuICBgO1xufTtcblxuZXhwb3J0IGNvbnN0IHNjcm9sbENvbnRhaW5lclN0eWxlID0gY3NzYFxuICBvdmVyZmxvdzogYXV0bztcbiAgbWFyZ2luLWJsb2NrLXN0YXJ0OiAwcHg7XG4gIG1hcmdpbi1ibG9jay1lbmQ6IDBweDtcbiAgcGFkZGluZy1pbmxpbmUtc3RhcnQ6IDBweDtcbiAgcGFkZGluZzogMHB4O1xuYDtcblxuLy8gVE9ETzogUmVtb3ZlIGRhcmstaW4tbGlnaHQgbW9kZSBzdHlsZXNcbi8vIGFmdGVyIGh0dHBzOi8vamlyYS5tb25nb2RiLm9yZy9icm93c2UvTEctMzk3NFxuZXhwb3J0IGNvbnN0IGdldERhcmtJbkxpZ2h0TW9kZU1lbnVTdHlsZXMgPSAoKSA9PiBjc3NgXG4gIGJveC1zaGFkb3c6IHVuc2V0O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAke2NvbG9yLmRhcmsuYmFja2dyb3VuZC5wcmltYXJ5LmRlZmF1bHR9O1xuICBib3JkZXI6IDFweCBzb2xpZCAke2NvbG9yLmRhcmsuYm9yZGVyLnByaW1hcnkuZGVmYXVsdH07XG5gO1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrLCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcblxuaW1wb3J0IHtcbiAgRGVzY2VuZGFudHNQcm92aWRlcixcbiAgZ2V0RGVzY2VuZGFudEJ5SWQsXG4gIHVzZUluaXREZXNjZW5kYW50cyxcbn0gZnJvbSAnQGxlYWZ5Z3JlZW4tdWkvZGVzY2VuZGFudHMnO1xuaW1wb3J0IHsgY3NzLCBjeCB9IGZyb20gJ0BsZWFmeWdyZWVuLXVpL2Vtb3Rpb24nO1xuaW1wb3J0IHsgdXNlQmFja2Ryb3BDbGljaywgdXNlRXZlbnRMaXN0ZW5lciB9IGZyb20gJ0BsZWFmeWdyZWVuLXVpL2hvb2tzJztcbmltcG9ydCB7IHVzZURhcmtNb2RlIH0gZnJvbSAnQGxlYWZ5Z3JlZW4tdWkvbGVhZnlncmVlbi1wcm92aWRlcic7XG5pbXBvcnQgeyBpc0RlZmluZWQsIGtleU1hcCwgVGhlbWUgfSBmcm9tICdAbGVhZnlncmVlbi11aS9saWInO1xuaW1wb3J0IFBvcG92ZXIsIHsgQWxpZ24sIEp1c3RpZnkgfSBmcm9tICdAbGVhZnlncmVlbi11aS9wb3BvdmVyJztcblxuaW1wb3J0IHsgTEdJRHMgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgdXNlSGlnaGxpZ2h0UmVkdWNlciB9IGZyb20gJy4uL0hpZ2hsaWdodFJlZHVjZXInO1xuaW1wb3J0IHtcbiAgTWVudUNvbnRleHQsXG4gIE1lbnVEZXNjZW5kYW50c0NvbnRleHQsXG59IGZyb20gJy4uL01lbnVDb250ZXh0L01lbnVDb250ZXh0JztcblxuaW1wb3J0IHsgdXNlTWVudUhlaWdodCB9IGZyb20gJy4vdXRpbHMvdXNlTWVudUhlaWdodCc7XG5pbXBvcnQge1xuICBnZXREYXJrSW5MaWdodE1vZGVNZW51U3R5bGVzLFxuICBnZXRNZW51U3R5bGVzLFxuICBzY3JvbGxDb250YWluZXJTdHlsZSxcbn0gZnJvbSAnLi9NZW51LnN0eWxlcyc7XG5pbXBvcnQgeyBNZW51UHJvcHMgfSBmcm9tICcuL01lbnUudHlwZXMnO1xuXG4vKipcbiAqXG4gKiBNZW51cyBhcmUgdXNlZCB3aGVuIGEgdXNlciBuZWVkcyB0byB0YWtlIGFuIGFjdGlvbi5cbiAqXG4gKiBJbiBhIG1lbnUgYSB1c2VyIHRha2VzIGFuIGFjdGlvbiAobGlrZSBjb3B5L2RlbGV0ZSBhIHByb3BlcnR5IG9yIG5hdmlnYXRlIHRvIGEgZGlmZmVyZW50IHNlY3Rpb24vc2NyZWVuKS5cbiAqXG4gKiBAcGFyYW0gcHJvcHMuY2hpbGRyZW4gQ29udGVudCB0byBhcHBlYXIgaW5zaWRlIG9mIE1lbnUuXG4gKiBAcGFyYW0gcHJvcHMub3BlbiBCb29sZWFuIHRvIGRlc2NyaWJlIHdoZXRoZXIgb3Igbm90IE1lbnUgaXMgb3Blbi5cbiAqIEBwYXJhbSBwcm9wcy5zZXRPcGVuIENhbGxiYWNrIHRvIGNoYW5nZSB0aGUgb3BlbiBzdGF0ZSBvZiB0aGUgTWVudS5cbiAqIEBwYXJhbSBwcm9wcy5zaG91bGRDbG9zZSBDYWxsYmFjayB0byBkZXRlcm1pbmUgd2hldGhlciBvciBub3QgTWVudSBzaG91bGQgY2xvc2Ugd2hlbiB1c2VyIHRyaWVzIHRvIGNsb3NlIGl0LlxuICogQHBhcmFtIHByb3BzLmNsYXNzTmFtZSBDbGFzc25hbWUgYXBwbGllZCB0byBNZW51LlxuICogQHBhcmFtIHByb3BzLmFsaWduIEFsaWdubWVudCBvZiBNZW51IHJlbGF0aXZlIHRvIGFub3RoZXIgZWxlbWVudDogYHRvcGAsIGBib3R0b21gLCBgbGVmdGAsIGByaWdodGAuXG4gKiBAcGFyYW0gcHJvcHMuanVzdGlmeSBKdXN0aWZpY2F0aW9uIG9mIE1lbnUgcmVsYXRpdmUgdG8gYW5vdGhlciBlbGVtZW50OiBgc3RhcnRgLCBgbWlkZGxlYCwgYGVuZGAuXG4gKiBAcGFyYW0gcHJvcHMucmVmRWwgUmVmZXJlbmNlIGVsZW1lbnQgdGhhdCBNZW51IHNob3VsZCBiZSBwb3NpdGlvbmVkIGFnYWluc3QuXG4gKiBAcGFyYW0gcHJvcHMudXNlUG9ydGFsIEJvb2xlYW4gdG8gZGVzY3JpYmUgaWYgY29udGVudCBzaG91bGQgYmUgcG9ydGFsZWQgdG8gZW5kIG9mIERPTSwgb3IgYXBwZWFyIGluIERPTSB0cmVlLlxuICogQHBhcmFtIHByb3BzLnRyaWdnZXIgVHJpZ2dlciBlbGVtZW50IGNhbiBiZSBSZWFjdE5vZGUgb3IgZnVuY3Rpb24sIGFuZCwgaWYgcHJlc2VudCwgaW50ZXJuYWxseSBtYW5hZ2VzIGFjdGl2ZSBzdGF0ZSBvZiBNZW51LlxuICogQHBhcmFtIHByb3BzLmRhcmtNb2RlIERldGVybWluZXMgd2hldGhlciBvciBub3QgdGhlIGNvbXBvbmVudCB3aWxsIGJlIHJlbmRlcmVkIGluIGRhcmsgdGhlbWUuXG4gKi9cbmV4cG9ydCBjb25zdCBNZW51ID0gUmVhY3QuZm9yd2FyZFJlZjxIVE1MRGl2RWxlbWVudCwgTWVudVByb3BzPihmdW5jdGlvbiBNZW51KFxuICB7XG4gICAgYWxpZ24gPSBBbGlnbi5Cb3R0b20sXG4gICAganVzdGlmeSA9IEp1c3RpZnkuRW5kLFxuICAgIGFkanVzdE9uTXV0YXRpb24gPSBmYWxzZSxcbiAgICBzaG91bGRDbG9zZSA9ICgpID0+IHRydWUsXG4gICAgc3BhY2luZyA9IDYsXG4gICAgbWF4SGVpZ2h0ID0gMzQ0LFxuICAgIHVzZVBvcnRhbCA9IHRydWUsXG4gICAgaW5pdGlhbE9wZW4gPSBmYWxzZSxcbiAgICBvcGVuOiBjb250cm9sbGVkT3BlbixcbiAgICBzZXRPcGVuOiBjb250cm9sbGVkU2V0T3BlbixcbiAgICBkYXJrTW9kZTogZGFya01vZGVQcm9wLFxuICAgIHJlbmRlckRhcmtNZW51ID0gdHJ1ZSxcbiAgICBjaGlsZHJlbixcbiAgICBjbGFzc05hbWUsXG4gICAgcmVmRWwsXG4gICAgdHJpZ2dlcixcbiAgICBwb3J0YWxDbGFzc05hbWUsXG4gICAgcG9ydGFsQ29udGFpbmVyLFxuICAgIHBvcnRhbFJlZixcbiAgICBzY3JvbGxDb250YWluZXIsXG4gICAgcG9wb3ZlclpJbmRleCxcbiAgICAuLi5yZXN0XG4gIH06IE1lbnVQcm9wcyxcbiAgZm9yd2FyZFJlZixcbikge1xuICBjb25zdCB7IHRoZW1lLCBkYXJrTW9kZSB9ID0gdXNlRGFya01vZGUoZGFya01vZGVQcm9wKTtcblxuICBjb25zdCBwb3BvdmVyUmVmID0gdXNlUmVmPEhUTUxVTGlzdEVsZW1lbnQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgdHJpZ2dlclJlZiA9IHVzZVJlZjxIVE1MRWxlbWVudD4obnVsbCk7XG5cbiAgY29uc3QgW3VuY29udHJvbGxlZE9wZW4sIHVuY29udHJvbGxlZFNldE9wZW5dID0gdXNlU3RhdGUoaW5pdGlhbE9wZW4pO1xuXG4gIGNvbnN0IHNldE9wZW4gPVxuICAgICh0eXBlb2YgY29udHJvbGxlZE9wZW4gPT09ICdib29sZWFuJyAmJiBjb250cm9sbGVkU2V0T3BlbikgfHxcbiAgICB1bmNvbnRyb2xsZWRTZXRPcGVuO1xuICBjb25zdCBvcGVuID0gY29udHJvbGxlZE9wZW4gPz8gdW5jb250cm9sbGVkT3BlbjtcbiAgY29uc3QgaGFuZGxlQ2xvc2UgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKHNob3VsZENsb3NlKCkpIHtcbiAgICAgIHNldE9wZW4oZmFsc2UpO1xuICAgIH1cbiAgfSwgW3NldE9wZW4sIHNob3VsZENsb3NlXSk7XG5cbiAgY29uc3QgbWF4TWVudUhlaWdodFZhbHVlID0gdXNlTWVudUhlaWdodCh7XG4gICAgcmVmRWw6IHJlZkVsIHx8IHRyaWdnZXJSZWYsXG4gICAgc3BhY2luZyxcbiAgICBtYXhIZWlnaHQsXG4gIH0pO1xuXG4gIHVzZUJhY2tkcm9wQ2xpY2soaGFuZGxlQ2xvc2UsIFtwb3BvdmVyUmVmLCB0cmlnZ2VyUmVmXSwgb3Blbik7XG5cbiAgY29uc3QgeyBkZXNjZW5kYW50cywgZGlzcGF0Y2gsIGdldERlc2NlbmRhbnRzIH0gPSB1c2VJbml0RGVzY2VuZGFudHMoKTtcblxuICAvLyBUcmFja3MgdGhlIGN1cnJlbnRseSBoaWdobGlnaHRlZCAoZm9jdXNlZCkgaXRlbSBpbmRleFxuICAvLyBGaXJlcyBgLmZvY3VzKClgIHdoZW4gdGhlIGluZGV4IGlzIHVwZGF0ZWRcbiAgY29uc3QgeyBoaWdobGlnaHQsIG1vdmVIaWdobGlnaHQsIHNldEhpZ2hsaWdodCB9ID0gdXNlSGlnaGxpZ2h0UmVkdWNlcihcbiAgICBnZXREZXNjZW5kYW50cyxcbiAgICBfbmV4dCA9PiB7XG4gICAgICBpZiAoaXNEZWZpbmVkKF9uZXh0KSkge1xuICAgICAgICBjb25zdCBuZXh0RGVzY2VuZGFudCA9IGdldERlc2NlbmRhbnRCeUlkKF9uZXh0LmlkLCBnZXREZXNjZW5kYW50cygpKTtcbiAgICAgICAgY29uc3QgZGVzY2VuZGFudEVsZW1lbnQgPSBuZXh0RGVzY2VuZGFudD8ucmVmLmN1cnJlbnQ7XG4gICAgICAgIGRlc2NlbmRhbnRFbGVtZW50Py5mb2N1cygpO1xuICAgICAgfVxuICAgIH0sXG4gICk7XG5cbiAgLy8gQ2FsbGJhY2sgZmlyZWQgd2hlbiB0aGUgcG9wb3ZlciB0cmFuc2l0aW9uIGZpbmlzaGVzLlxuICAvLyBIYW5kbGluZyBvbiB0aGlzIGV2ZW50IGVuc3VyZXMgdGhhdCB0aGUgYGRlc2NlbmRhbnRzYCBlbGVtZW50c1xuICAvLyBleGlzdCBpbiB0aGUgRE9NIGJlZm9yZSBhdHRlbXB0aW5nIHRvIHNldCBgZm9jdXNgXG4gIGNvbnN0IGhhbmRsZVBvcG92ZXJPcGVuID0gKCkgPT4ge1xuICAgIG1vdmVIaWdobGlnaHQoJ2ZpcnN0Jyk7XG4gIH07XG5cbiAgLy8gRmlyZWQgb24gZ2xvYmFsIGtleURvd24gZXZlbnRcbiAgZnVuY3Rpb24gaGFuZGxlS2V5RG93bihlOiBLZXlib2FyZEV2ZW50KSB7XG4gICAgc3dpdGNoIChlLmtleSkge1xuICAgICAgY2FzZSBrZXlNYXAuQXJyb3dEb3duOlxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7IC8vIFByZXZlbnRzIHBhZ2Ugc2Nyb2xsaW5nXG4gICAgICAgIG1vdmVIaWdobGlnaHQoJ25leHQnKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2Uga2V5TWFwLkFycm93VXA6XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTsgLy8gUHJldmVudHMgcGFnZSBzY3JvbGxpbmdcbiAgICAgICAgbW92ZUhpZ2hsaWdodCgncHJldicpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBrZXlNYXAuVGFiOlxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7IC8vIFByZXZlbnQgdGFiYmluZyBvdXRzaWRlIG9mIHBvcnRhbCBhbmQgb3V0c2lkZSBvZiB0aGUgRE9NIHdoZW4gYHVzZVBvcnRhbD17dHJ1ZX1gXG4gICAgICAgIGhhbmRsZUNsb3NlKCk7XG4gICAgICAgIChyZWZFbCB8fCB0cmlnZ2VyUmVmKT8uY3VycmVudD8uZm9jdXMoKTsgLy8gRm9jdXMgdGhlIHRyaWdnZXIgb24gY2xvc2VcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2Uga2V5TWFwLkVzY2FwZTpcbiAgICAgICAgaGFuZGxlQ2xvc2UoKTtcbiAgICAgICAgKHJlZkVsIHx8IHRyaWdnZXJSZWYpPy5jdXJyZW50Py5mb2N1cygpOyAvLyBGb2N1cyB0aGUgdHJpZ2dlciBvbiBjbG9zZVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBrZXlNYXAuU3BhY2U6XG4gICAgICBjYXNlIGtleU1hcC5FbnRlcjpcbiAgICAgICAgaWYgKCFvcGVuKSB7XG4gICAgICAgICAgbW92ZUhpZ2hsaWdodCgnZmlyc3QnKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICB1c2VFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93biwgeyBlbmFibGVkOiBvcGVuIH0pO1xuXG4gIGNvbnN0IHBvcG92ZXJQcm9wcyA9IHtcbiAgICBwb3BvdmVyWkluZGV4LFxuICAgIC4uLih1c2VQb3J0YWxcbiAgICAgID8ge1xuICAgICAgICAgIHNwYWNpbmcsXG4gICAgICAgICAgdXNlUG9ydGFsLFxuICAgICAgICAgIHBvcnRhbENsYXNzTmFtZSxcbiAgICAgICAgICBwb3J0YWxDb250YWluZXIsXG4gICAgICAgICAgcG9ydGFsUmVmLFxuICAgICAgICAgIHNjcm9sbENvbnRhaW5lcixcbiAgICAgICAgfVxuICAgICAgOiB7IHNwYWNpbmcsIHVzZVBvcnRhbCB9KSxcbiAgfTtcblxuICBjb25zdCBwb3BvdmVyQ29udGVudCA9IChcbiAgICA8RGVzY2VuZGFudHNQcm92aWRlclxuICAgICAgY29udGV4dD17TWVudURlc2NlbmRhbnRzQ29udGV4dH1cbiAgICAgIGRlc2NlbmRhbnRzPXtkZXNjZW5kYW50c31cbiAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICA+XG4gICAgICA8TWVudUNvbnRleHQuUHJvdmlkZXJcbiAgICAgICAgdmFsdWU9e3tcbiAgICAgICAgICB0aGVtZSxcbiAgICAgICAgICBkYXJrTW9kZSxcbiAgICAgICAgICBoaWdobGlnaHQsXG4gICAgICAgICAgc2V0SGlnaGxpZ2h0LFxuICAgICAgICAgIHJlbmRlckRhcmtNZW51LFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8UG9wb3ZlclxuICAgICAgICAgIGtleT1cInBvcG92ZXJcIlxuICAgICAgICAgIGFjdGl2ZT17b3Blbn1cbiAgICAgICAgICBhbGlnbj17YWxpZ259XG4gICAgICAgICAganVzdGlmeT17anVzdGlmeX1cbiAgICAgICAgICByZWZFbD17cmVmRWx9XG4gICAgICAgICAgYWRqdXN0T25NdXRhdGlvbj17YWRqdXN0T25NdXRhdGlvbn1cbiAgICAgICAgICBvbkVudGVyZWQ9e2hhbmRsZVBvcG92ZXJPcGVufVxuICAgICAgICAgIGRhdGEtdGVzdGlkPXtMR0lEcy5yb290fVxuICAgICAgICAgIGRhdGEtbGdpZD17TEdJRHMucm9vdH1cbiAgICAgICAgICB7Li4ucG9wb3ZlclByb3BzfVxuICAgICAgICA+XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgZGF0YS10aGVtZT17dGhlbWV9XG4gICAgICAgICAgICBjbGFzc05hbWU9e2N4KFxuICAgICAgICAgICAgICBnZXRNZW51U3R5bGVzKHsgdGhlbWUgfSksXG4gICAgICAgICAgICAgIGNzc2BcbiAgICAgICAgICAgICAgICBtYXgtaGVpZ2h0OiAke21heE1lbnVIZWlnaHRWYWx1ZX07XG4gICAgICAgICAgICAgIGAsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBSZW1vdmUgZGFyay1pbi1saWdodCBtb2RlIHN0eWxlc1xuICAgICAgICAgICAgICAgIC8vIGFmdGVyIGh0dHBzOi8vamlyYS5tb25nb2RiLm9yZy9icm93c2UvTEctMzk3NFxuICAgICAgICAgICAgICAgIFtnZXREYXJrSW5MaWdodE1vZGVNZW51U3R5bGVzKCldOlxuICAgICAgICAgICAgICAgICAgdGhlbWUgPT09IFRoZW1lLkxpZ2h0ICYmIHJlbmRlckRhcmtNZW51LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBjbGFzc05hbWUsXG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgcmVmPXtmb3J3YXJkUmVmfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHsvKiBOZWVkIHRvIHN0b3AgcHJvcGFnYXRpb24sIG90aGVyd2lzZSBNZW51IHdpbGwgY2xvc2VkIGF1dG9tYXRpY2FsbHkgd2hlbiBjbGlja2VkICovfVxuICAgICAgICAgICAgey8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBqc3gtYTExeS9jbGljay1ldmVudHMtaGF2ZS1rZXktZXZlbnRzKi99XG4gICAgICAgICAgICA8dWxcbiAgICAgICAgICAgICAgey4uLnJlc3R9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17c2Nyb2xsQ29udGFpbmVyU3R5bGV9XG4gICAgICAgICAgICAgIHJvbGU9XCJtZW51XCJcbiAgICAgICAgICAgICAgb25DbGljaz17ZSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpfVxuICAgICAgICAgICAgICByZWY9e3BvcG92ZXJSZWZ9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvUG9wb3Zlcj5cbiAgICAgIDwvTWVudUNvbnRleHQuUHJvdmlkZXI+XG4gICAgPC9EZXNjZW5kYW50c1Byb3ZpZGVyPlxuICApO1xuXG4gIGlmICh0cmlnZ2VyKSB7XG4gICAgY29uc3QgdHJpZ2dlckNsaWNrSGFuZGxlciA9IChldmVudD86IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcbiAgICAgIGV2ZW50Py5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgc2V0T3BlbigoY3VycjogYm9vbGVhbikgPT4gIWN1cnIpO1xuXG4gICAgICBpZiAodHJpZ2dlciAmJiB0eXBlb2YgdHJpZ2dlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0cmlnZ2VyLnByb3BzPy5vbkNsaWNrPy4oZXZlbnQpO1xuICAgICAgfVxuXG4gICAgICAvLyBXZSBzdG9wIHRoZSBuYXRpdmUgZXZlbnQgZnJvbSBidWJibGluZywgYnV0IGFsbG93IHRoZSBSZWFjdC5TeW50aGV0aWMgZXZlbnQgdG8gYnViYmxlXG4gICAgICAvLyBUaGlzIHdheSBjbGljayBoYW5kbGVycyBvbiBwYXJlbnQgY29tcG9uZW50cyB3aWxsIHN0aWxsIGZpcmUsXG4gICAgICAvLyBidXQgdGhpcyBjbGljayBldmVudCB3b24ndCBwcm9wYWdhdGUgdXAgdG8gdGhlIGRvY3VtZW50IGFuZCBpbW1lZGlhdGVseSBjbG9zZSB0aGUgbWVudS5cbiAgICAgIGV2ZW50Py5uYXRpdmVFdmVudD8uc3RvcFByb3BhZ2F0aW9uPy4oKTtcbiAgICB9O1xuXG4gICAgaWYgKHR5cGVvZiB0cmlnZ2VyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gdHJpZ2dlcih7XG4gICAgICAgIG9uQ2xpY2s6IHRyaWdnZXJDbGlja0hhbmRsZXIsXG4gICAgICAgIHJlZjogdHJpZ2dlclJlZixcbiAgICAgICAgY2hpbGRyZW46IHBvcG92ZXJDb250ZW50LFxuICAgICAgICBbJ2FyaWEtZXhwYW5kZWQnXTogb3BlbixcbiAgICAgICAgWydhcmlhLWhhc3BvcHVwJ106IHRydWUsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCByZW5kZXJlZFRyaWdnZXIgPSBSZWFjdC5jbG9uZUVsZW1lbnQodHJpZ2dlciwge1xuICAgICAgcmVmOiB0cmlnZ2VyUmVmLFxuICAgICAgb25DbGljazogdHJpZ2dlckNsaWNrSGFuZGxlcixcbiAgICAgIGNoaWxkcmVuOiAoXG4gICAgICAgIDw+XG4gICAgICAgICAge3RyaWdnZXIucHJvcHMuY2hpbGRyZW59XG4gICAgICAgICAge3BvcG92ZXJDb250ZW50fVxuICAgICAgICA8Lz5cbiAgICAgICksXG4gICAgICBbJ2FyaWEtZXhwYW5kZWQnXTogb3BlbixcbiAgICAgIFsnYXJpYS1oYXNwb3B1cCddOiB0cnVlLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlbmRlcmVkVHJpZ2dlcjtcbiAgfVxuXG4gIHJldHVybiBwb3BvdmVyQ29udGVudDtcbn0pO1xuXG5NZW51LmRpc3BsYXlOYW1lID0gJ01lbnUnO1xuXG5NZW51LnByb3BUeXBlcyA9IHtcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGFsaWduOiBQcm9wVHlwZXMub25lT2YoT2JqZWN0LnZhbHVlcyhBbGlnbikpLFxuICBqdXN0aWZ5OiBQcm9wVHlwZXMub25lT2YoT2JqZWN0LnZhbHVlcyhKdXN0aWZ5KSksXG4gIHJlZkVsOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIGN1cnJlbnQ6XG4gICAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICA/IFByb3BUeXBlcy5pbnN0YW5jZU9mKEVsZW1lbnQpXG4gICAgICAgIDogUHJvcFR5cGVzLmFueSxcbiAgfSksXG4gIHBvcnRhbFJlZjogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBjdXJyZW50OlxuICAgICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgPyBQcm9wVHlwZXMuaW5zdGFuY2VPZihFbGVtZW50KVxuICAgICAgICA6IFByb3BUeXBlcy5hbnksXG4gIH0pLFxuICB1c2VQb3J0YWw6IFByb3BUeXBlcy5ib29sLFxuICB0cmlnZ2VyOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubm9kZSwgUHJvcFR5cGVzLmZ1bmNdKSxcbiAgb3BlbjogUHJvcFR5cGVzLmJvb2wsXG4gIHNldE9wZW46IFByb3BUeXBlcy5mdW5jLFxuICBkYXJrTW9kZTogUHJvcFR5cGVzLmJvb2wsXG59IGFzIGFueTtcblxuZXhwb3J0IGRlZmF1bHQgTWVudTtcbiIsImV4cG9ydCB7IGRlZmF1bHQgYXMgTWVudSB9IGZyb20gJy4vTWVudSc7XG5leHBvcnQgdHlwZSB7IE1lbnVQcm9wcyB9IGZyb20gJy4vTWVudS50eXBlcyc7XG4iXSwibmFtZXMiOlsiaXNEZWZpbmVkIiwiZ2V0TmV4dEluZGV4IiwiZGlyZWN0aW9uIiwiY3VycmVudEluZGV4IiwidG90YWxJdGVtcyIsImdldERlc2NlbmRhbnRCeUluZGV4IiwiZ2V0TmV4dEVuYWJsZWRJbmRleCIsImN1cnJlbnQiLCJkZXNjZW5kYW50cyIsIl9jdXJyZW50JGluZGV4IiwiZXZlcnkiLCJkIiwicHJvcHMiLCJkaXNhYmxlZCIsInVuZGVmaW5lZCIsInVwZGF0ZWRJbmRleCIsImluZGV4IiwibGVuZ3RoIiwiaXRlbSIsIl9pdGVtIiwibmV4dERpcmVjdGlvbiIsImlzRGVzY2VuZGFudHNTZXQiLCJnZXROZXh0RnJvbURpcmVjdGlvbiIsIm5leHREZXNjZW5kYW50IiwidXNlUmVkdWNlciIsImdldERlc2NlbmRhbnRCeUlkIiwiZ2V0SW5pdGlhbEhpZ2hsaWdodCIsIm1ha2VIaWdobGlnaHRSZWR1Y2VyRnVuY3Rpb24iLCJnZXREZXNjZW5kYW50cyIsImN1cnJlbnRIaWdobGlnaHQiLCJhY3Rpb24iLCJuZXh0SGlnaGxpZ2h0IiwiaWQiLCJ1c2VIaWdobGlnaHRSZWR1Y2VyIiwib25DaGFuZ2UiLCJoaWdobGlnaHRSZWR1Y2VyRnVuY3Rpb24iLCJfdXNlUmVkdWNlciIsIl91c2VSZWR1Y2VyMiIsIl9zbGljZWRUb0FycmF5IiwiaGlnaGxpZ2h0IiwiZGlzcGF0Y2giLCJtb3ZlSGlnaGxpZ2h0IiwidXBkYXRlZEhpZ2hsaWdodCIsInNldEhpZ2hsaWdodCIsImluZGV4T3JJZCIsInVzZU1lbW8iLCJpc1VuZGVmaW5lZCIsInVzZUF2YWlsYWJsZVNwYWNlIiwidXNlTWVudUhlaWdodCIsIl9yZWYiLCJyZWZFbCIsInNwYWNpbmciLCJtYXhIZWlnaHQiLCJhdmFpbGFibGVTcGFjZSIsIm1lbW9pemVkQXZhaWxhYmxlU3BhY2UiLCJtYXhNZW51SGVpZ2h0VmFsdWUiLCJjb25jYXQiLCJNYXRoIiwibWluIiwidHJhbnNwYXJlbnRpemUiLCJjc3MiLCJwYWxldHRlIiwiY29sb3IiLCJtZW51Q29sb3IiLCJnZXRNZW51U3R5bGVzIiwidGhlbWUiLCJfdGVtcGxhdGVPYmplY3QiLCJfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsIiwiYmFja2dyb3VuZCIsImJvcmRlciIsIl90ZW1wbGF0ZU9iamVjdDIiLCJibGFjayIsInNjcm9sbENvbnRhaW5lclN0eWxlIiwiX3RlbXBsYXRlT2JqZWN0MyIsImdldERhcmtJbkxpZ2h0TW9kZU1lbnVTdHlsZXMiLCJfdGVtcGxhdGVPYmplY3Q0IiwiZGFyayIsInByaW1hcnkiLCJSZWFjdCIsInVzZUNhbGxiYWNrIiwidXNlUmVmIiwidXNlU3RhdGUiLCJQcm9wVHlwZXMiLCJEZXNjZW5kYW50c1Byb3ZpZGVyIiwidXNlSW5pdERlc2NlbmRhbnRzIiwiY3giLCJ1c2VCYWNrZHJvcENsaWNrIiwidXNlRXZlbnRMaXN0ZW5lciIsInVzZURhcmtNb2RlIiwia2V5TWFwIiwiVGhlbWUiLCJQb3BvdmVyIiwiQWxpZ24iLCJKdXN0aWZ5IiwiTEdJRHMiLCJNZW51Q29udGV4dCIsIk1lbnVEZXNjZW5kYW50c0NvbnRleHQiLCJNZW51IiwiZm9yd2FyZFJlZiIsIl9yZWYkYWxpZ24iLCJhbGlnbiIsIkJvdHRvbSIsIl9yZWYkanVzdGlmeSIsImp1c3RpZnkiLCJFbmQiLCJfcmVmJGFkanVzdE9uTXV0YXRpb24iLCJhZGp1c3RPbk11dGF0aW9uIiwiX3JlZiRzaG91bGRDbG9zZSIsInNob3VsZENsb3NlIiwiX3JlZiRzcGFjaW5nIiwiX3JlZiRtYXhIZWlnaHQiLCJfcmVmJHVzZVBvcnRhbCIsInVzZVBvcnRhbCIsIl9yZWYkaW5pdGlhbE9wZW4iLCJpbml0aWFsT3BlbiIsImNvbnRyb2xsZWRPcGVuIiwib3BlbiIsImNvbnRyb2xsZWRTZXRPcGVuIiwic2V0T3BlbiIsImRhcmtNb2RlUHJvcCIsImRhcmtNb2RlIiwiX3JlZiRyZW5kZXJEYXJrTWVudSIsInJlbmRlckRhcmtNZW51IiwiY2hpbGRyZW4iLCJjbGFzc05hbWUiLCJ0cmlnZ2VyIiwicG9ydGFsQ2xhc3NOYW1lIiwicG9ydGFsQ29udGFpbmVyIiwicG9ydGFsUmVmIiwic2Nyb2xsQ29udGFpbmVyIiwicG9wb3ZlclpJbmRleCIsInJlc3QiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiLCJfZXhjbHVkZWQiLCJfdXNlRGFya01vZGUiLCJwb3BvdmVyUmVmIiwidHJpZ2dlclJlZiIsIl91c2VTdGF0ZSIsIl91c2VTdGF0ZTIiLCJ1bmNvbnRyb2xsZWRPcGVuIiwidW5jb250cm9sbGVkU2V0T3BlbiIsImhhbmRsZUNsb3NlIiwiX3VzZUluaXREZXNjZW5kYW50cyIsIl91c2VIaWdobGlnaHRSZWR1Y2VyIiwiX25leHQiLCJkZXNjZW5kYW50RWxlbWVudCIsInJlZiIsImZvY3VzIiwiaGFuZGxlUG9wb3Zlck9wZW4iLCJoYW5kbGVLZXlEb3duIiwiZSIsIl9yZWYyIiwiX3JlZjMiLCJrZXkiLCJBcnJvd0Rvd24iLCJwcmV2ZW50RGVmYXVsdCIsIkFycm93VXAiLCJUYWIiLCJFc2NhcGUiLCJTcGFjZSIsIkVudGVyIiwiZW5hYmxlZCIsInBvcG92ZXJQcm9wcyIsIl9vYmplY3RTcHJlYWQiLCJwb3BvdmVyQ29udGVudCIsImNyZWF0ZUVsZW1lbnQiLCJjb250ZXh0IiwiUHJvdmlkZXIiLCJ2YWx1ZSIsIl9leHRlbmRzIiwiYWN0aXZlIiwib25FbnRlcmVkIiwicm9vdCIsIl9kZWZpbmVQcm9wZXJ0eSIsIkxpZ2h0Iiwicm9sZSIsIm9uQ2xpY2siLCJzdG9wUHJvcGFnYXRpb24iLCJ0cmlnZ2VyQ2xpY2tIYW5kbGVyIiwiZXZlbnQiLCJfZXZlbnQkbmF0aXZlRXZlbnQiLCJfZXZlbnQkbmF0aXZlRXZlbnQkc3QiLCJjdXJyIiwiX3RyaWdnZXIkcHJvcHMiLCJfdHJpZ2dlciRwcm9wcyRvbkNsaWMiLCJjYWxsIiwibmF0aXZlRXZlbnQiLCJyZW5kZXJlZFRyaWdnZXIiLCJjbG9uZUVsZW1lbnQiLCJGcmFnbWVudCIsImRpc3BsYXlOYW1lIiwicHJvcFR5cGVzIiwibm9kZSIsInN0cmluZyIsIm9uZU9mIiwiT2JqZWN0IiwidmFsdWVzIiwic2hhcGUiLCJ3aW5kb3ciLCJpbnN0YW5jZU9mIiwiRWxlbWVudCIsImFueSIsImJvb2wiLCJvbmVPZlR5cGUiLCJmdW5jIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./packages/menu/src/Menu/index.ts\n')}}]);