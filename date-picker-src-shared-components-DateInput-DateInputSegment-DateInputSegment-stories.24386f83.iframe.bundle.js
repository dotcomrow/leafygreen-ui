"use strict";(self.webpackChunkleafygreen_ui=self.webpackChunkleafygreen_ui||[]).push([[5312],{"./packages/date-picker/src/shared/components/DateInput/DateInputSegment/DateInputSegment.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,Generated:()=>Generated,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("webpack/sharing/consume/default/react/react"),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_leafygreen_ui_leafygreen_provider__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/leafygreen-provider/dist/esm/index.js"),_leafygreen_ui_tokens__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/tokens/dist/esm/index.js"),_context__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/date-picker/src/shared/context/index.ts"),_DateInputSegment__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/date-picker/src/shared/components/DateInput/DateInputSegment/DateInputSegment.tsx");const __WEBPACK_DEFAULT_EXPORT__={title:"Components/DatePicker/Shared/DateInputSegment",component:_DateInputSegment__WEBPACK_IMPORTED_MODULE_4__._,parameters:{default:null,generate:{combineArgs:{darkMode:[!1,!0],value:[void 0,"6","2023"],segment:["day","month","year"],size:Object.values(_leafygreen_ui_tokens__WEBPACK_IMPORTED_MODULE_2__.$u)},decorator:function ProviderWrapper(Story,ctx){return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_leafygreen_ui_leafygreen_provider__WEBPACK_IMPORTED_MODULE_1__.ZP,{darkMode:null==ctx?void 0:ctx.args.darkMode},react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_context__WEBPACK_IMPORTED_MODULE_3__.yB,null==ctx?void 0:ctx.args,react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Story,null)))},excludeCombinations:[{value:"6",segment:"year"},{value:"2023",segment:["day","month"]}]}},args:{segment:"day"},argTypes:{segment:{control:"select",options:["day","month","year"]}}};var Basic=function Template(props){var _useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),_useState2=(0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__.Z)(_useState,2),value=_useState2[0],setValue=_useState2[1];return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_leafygreen_ui_leafygreen_provider__WEBPACK_IMPORTED_MODULE_1__.ZP,null,react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_DateInputSegment__WEBPACK_IMPORTED_MODULE_4__._,(0,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6__.Z)({},props,{value,onChange:function onChange(_ref){var value=_ref.value;setValue(value)}})))}.bind({});Basic.parameters={chromatic:{disableSnapshot:!0}};var Generated=function Generated(){};Basic.parameters={...Basic.parameters,docs:{...Basic.parameters?.docs,source:{originalSource:"props => {\n  const [value, setValue] = useState<DateSegmentValue>('');\n  return <LeafyGreenProvider>\n      <DateInputSegment {...props} value={value} onChange={({\n      value\n    }) => {\n      setValue(value);\n    }} />\n    </LeafyGreenProvider>;\n}",...Basic.parameters?.docs?.source}}},Generated.parameters={...Generated.parameters,docs:{...Generated.parameters?.docs,source:{originalSource:"() => {}",...Generated.parameters?.docs?.source}}};const __namedExportsOrder=["Basic","Generated"]},"./packages/date-picker/src/shared/components/DateInput/DateInputSegment/DateInputSegment.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_:()=>DateInputSegment});var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11,_templateObject12,esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),index_js_=__webpack_require__("webpack/sharing/consume/default/react/react"),index_js_default=__webpack_require__.n(index_js_),esm=__webpack_require__("./packages/emotion/dist/esm/index.js"),dist_esm=__webpack_require__("./packages/hooks/dist/esm/index.js"),leafygreen_provider_dist_esm=__webpack_require__("./packages/leafygreen-provider/dist/esm/index.js"),lib_dist_esm=__webpack_require__("./packages/lib/dist/esm/index.js"),tokens_dist_esm=__webpack_require__("./packages/tokens/dist/esm/index.js"),typography_dist_esm=__webpack_require__("./packages/typography/dist/esm/index.js"),constants=__webpack_require__("./packages/date-picker/src/shared/constants.ts"),context=__webpack_require__("./packages/date-picker/src/shared/context/index.ts"),utils=__webpack_require__("./packages/date-picker/src/shared/utils/index.ts"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),palette_dist_esm=__webpack_require__("./packages/palette/dist/esm/index.js"),baseStyles=(0,esm.css)(_templateObject||(_templateObject=(0,taggedTemplateLiteral.Z)(["\n  font-family: ",";\n  font-size: ","px;\n  font-variant: tabular-nums;\n  text-align: center;\n  border: none;\n  border-radius: 0;\n  padding: 0;\n\n  &::-webkit-outer-spin-button,\n  &::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n  -moz-appearance: textfield; /* Firefox */\n\n  &:focus {\n    outline: none;\n  }\n"])),tokens_dist_esm.Vl.default,tokens_dist_esm.Y2.Body1),segmentThemeStyles=(0,defineProperty.Z)((0,defineProperty.Z)({},lib_dist_esm.Q2.Light,(0,esm.css)(_templateObject2||(_templateObject2=(0,taggedTemplateLiteral.Z)(["\n    background-color: transparent;\n    color: ",";\n\n    &::placeholder {\n      color: ",";\n    }\n\n    &:focus {\n      background-color: ",";\n    }\n  "])),palette_dist_esm.D.black,palette_dist_esm.D.gray.light1,palette_dist_esm.D.blue.light3)),lib_dist_esm.Q2.Dark,(0,esm.css)(_templateObject3||(_templateObject3=(0,taggedTemplateLiteral.Z)(["\n    background-color: transparent;\n    color: ",";\n\n    &::placeholder {\n      color: ",";\n    }\n\n    &:focus {\n      background-color: ",";\n    }\n  "])),palette_dist_esm.D.gray.light2,palette_dist_esm.D.gray.dark1,palette_dist_esm.D.blue.dark3)),fontSizeStyles=(0,defineProperty.Z)((0,defineProperty.Z)({},tokens_dist_esm.Y2.Body1,(0,esm.css)(_templateObject4||(_templateObject4=(0,taggedTemplateLiteral.Z)(["\n    --base-font-size: ","px;\n  "])),tokens_dist_esm.Y2.Body1)),tokens_dist_esm.Y2.Body2,(0,esm.css)(_templateObject5||(_templateObject5=(0,taggedTemplateLiteral.Z)(["\n    --base-font-size: ","px;\n  "])),tokens_dist_esm.Y2.Body2)),segmentSizeStyles=(0,defineProperty.Z)((0,defineProperty.Z)((0,defineProperty.Z)((0,defineProperty.Z)({},tokens_dist_esm.$u.XSmall,(0,esm.css)(_templateObject6||(_templateObject6=(0,taggedTemplateLiteral.Z)(["\n    font-size: ","px;\n  "])),tokens_dist_esm.yL.body1.fontSize)),tokens_dist_esm.$u.Small,(0,esm.css)(_templateObject7||(_templateObject7=(0,taggedTemplateLiteral.Z)(["\n    font-size: ","px;\n  "])),tokens_dist_esm.yL.body1.fontSize)),tokens_dist_esm.$u.Default,(0,esm.css)(_templateObject8||(_templateObject8=(0,taggedTemplateLiteral.Z)(["\n    font-size: var(--base-font-size, ","px);\n  "])),tokens_dist_esm.yL.body1.fontSize)),tokens_dist_esm.$u.Large,(0,esm.css)(_templateObject9||(_templateObject9=(0,taggedTemplateLiteral.Z)(["\n    font-size: ","px; // Intentionally off-token\n  "])),18)),segmentWidthStyles={day:(0,esm.css)(_templateObject10||(_templateObject10=(0,taggedTemplateLiteral.Z)(["\n    width: ","ch;\n  "])),constants.mN.day*constants.mS.D),month:(0,esm.css)(_templateObject11||(_templateObject11=(0,taggedTemplateLiteral.Z)(["\n    width: ","ch;\n  "])),constants.mN.month*constants.mS.M),year:(0,esm.css)(_templateObject12||(_templateObject12=(0,taggedTemplateLiteral.Z)(["\n    width: ","ch;\n  "])),constants.mN.year*constants.mS.Y)},last=__webpack_require__("./node_modules/lodash/last.js"),last_default=__webpack_require__.n(last),_excluded=["segment","value","min","max","onChange","onBlur","onKeyDown"],DateInputSegment=index_js_default().forwardRef((function(_ref,fwdRef){var segment=_ref.segment,value=_ref.value,minProp=_ref.min,maxProp=_ref.max,onChange=_ref.onChange,onBlur=_ref.onBlur,onKeyDown=_ref.onKeyDown,rest=(0,objectWithoutProperties.Z)(_ref,_excluded),min=null!=minProp?minProp:constants.kP[segment],max=null!=maxProp?maxProp:constants.hh[segment],inputRef=(0,dist_esm.ts)(fwdRef,null),theme=(0,leafygreen_provider_dist_esm.vs)().theme,baseFontSize=(0,typography_dist_esm.hN)(),_useSharedDatePickerC=(0,context.Fp)(),size=_useSharedDatePickerC.size,disabled=_useSharedDatePickerC.disabled,autoCompleteProp=_useSharedDatePickerC.autoComplete,formatter=(0,utils.kZ)(segment),autoComplete=(0,utils.bn)(autoCompleteProp,segment),pattern="[0-9]{".concat(constants.mN[segment],"}");return index_js_default().createElement("input",(0,esm_extends.Z)({},rest,{"aria-label":segment,id:segment,ref:inputRef,type:"text",pattern,role:"spinbutton",value,min,max,placeholder:constants.WY[segment],onChange:function handleChange(e){var target=e.target,newValue=function getNewSegmentValueFromInputValue(segmentName,currentValue,incomingValue){var isIncomingValueNumber=!isNaN(Number(incomingValue)),doesIncomingValueContainPeriod=/\./.test(incomingValue),wouldCauseOverflow=currentValue.length===constants.mN[segmentName]&&incomingValue.length>constants.mN[segmentName];if(!isIncomingValueNumber||doesIncomingValueContainPeriod||wouldCauseOverflow)return currentValue;if((0,utils.Dj)(segmentName,incomingValue)||"year"===segmentName)return(0,lib_dist_esm.xh)(incomingValue,{length:constants.mN[segmentName]});var typedChar=last_default()(incomingValue.split(""));return"0"===typedChar?"0":null!=typedChar?typedChar:""}(segment,value,target.value);newValue!==value?onChange({segment,value:newValue}):target.value=value},onBlur,onKeyDown:function handleKeyDown(e){var _ref2=e,key=_ref2.key,target=_ref2.target;switch(Number(key)&&key!==lib_dist_esm.Pc.Space&&target.value.length===constants.mN[segment]&&(target.value=""),key){case lib_dist_esm.Pc.ArrowUp:case lib_dist_esm.Pc.ArrowDown:e.preventDefault();var newValue=function getNewSegmentValueFromArrowKeyPress(_ref){var value=_ref.value,key=_ref.key,segment=_ref.segment,min=_ref.min,max=_ref.max,valueDiff=key===lib_dist_esm.Pc.ArrowUp?1:-1,defaultVal=key===lib_dist_esm.Pc.ArrowUp?min:max,incrementedValue=value?Number(value)+valueDiff:defaultVal;return"year"===segment?incrementedValue:(0,lib_dist_esm.B9)(incrementedValue,min,max)}({key,value,min,max,segment}),valueString=formatter(newValue);onChange({segment,value:valueString,meta:{key}});break;case lib_dist_esm.Pc.Backspace:value&&(e.stopPropagation(),onChange({segment,value:"",meta:{key}}));break;case lib_dist_esm.Pc.Space:e.preventDefault(),value&&onChange({segment,value:"",meta:{key}})}null==onKeyDown||onKeyDown(e)},disabled,"data-testid":"lg-date_picker_input-segment","data-segment":segment,className:(0,esm.cx)(baseStyles,fontSizeStyles[baseFontSize],segmentThemeStyles[theme],segmentSizeStyles[null!=size?size:tokens_dist_esm.$u.Default],segmentWidthStyles[segment]),autoComplete}))}));DateInputSegment.displayName="DateInputSegment"}}]);